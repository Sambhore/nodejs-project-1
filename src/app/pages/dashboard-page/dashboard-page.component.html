<app-header [pageName]="pageName" [isTriggerEligibility]="isTriggerEligibility" (generatePDF)="generatePdf()"></app-header>
<div class="container-fluid p-5 dashboard" #dashboardPage>
    <div class="header">
        <div class="row">
            <div class="col-11 d-flex flex-row" style="width: 94.66666667%;">
                <button class="btn" [ngClass]="displaySnapshotMenu ? 'btn-primary' : 'btn-outline-secondary'" (click)="clickSnapshotMenu()" style="max-height: 30px; min-width: 9rem;">Loan Snapshot</button>
                <div class="menu-list">
                    <!-- <button class="btn btn-link" (click)="scrollToSection('LoanView')">Loan View</button> -->
                    <button class="btn btn-link" (click)="scrollToSection('TriggeredServices')" >Triggered Services</button>
                    <button class="btn btn-link" (click)="scrollToSection('ApplicantDetails')" >Applicant Details</button>
                    <button class="btn btn-link" (click)="scrollToSection('FinalOffer')" >Final Offer</button>
                    <button class="btn btn-link" (click)="scrollToSection('IncomeDetails')" >Income Details</button>
                    <button class="btn btn-link" (click)="scrollToSection('MonthlyOblication')" >Monthly Obligation</button>
                    <button class="btn btn-link" (click)="scrollToSection('FSASummary')" >FSA Summary</button>
                    <button class="btn btn-link" (click)="scrollToSection('BSASummary')" >BSA Summary</button>
                    <button class="btn btn-link" (click)="scrollToSection('BureauSummary')" >Bureau Summary</button>
                    <button class="btn btn-link" (click)="scrollToSection('GSTSummary')" >GST Summary</button>
                    <button class="btn btn-link" (click)="scrollToSection('ITRSummary')" >ITR Summary</button>
                    <button class="btn btn-link" (click)="scrollToSection('CrimeCheckSummary')" >Crime Check Summary</button>
                    <button class="btn btn-link" (click)="scrollToSection('OtherIntegrations')" >Other Integrations</button>
                    <button class="btn btn-link" (click)="scrollToSection('DownloadPDF')" >Downloads</button>
                </div>
            </div>
            <div class="col-1 text-center" style="width: 5.33333333%;">
                <button class="plus-minus" (click)="expandAll($event)">+</button>
            </div>
        </div>
        <div class="row align-items-center mb-3" *ngIf="displaySnapshotMenu">
            <div class="col-auto">
                <p class="mt-4">Loan Type : <b>{{LoanType}}</b></p>
            </div>
            <div class="col-auto">
                <p class="mt-4">Location : <b>{{location}}</b></p>
            </div>
            <div class="col-auto">
                <p class="mt-4">Loan Purpose : <b>{{loanPurpose}}</b></p>
            </div>
            <div class="col-auto">
                <p class="mt-4">Sub Product : <b>{{subProduct}}</b></p>
            </div>
            <!-- <div class="col">
                <label>Navigate to</label>
                <select class="form-select" (change)="scrollToSection($event)">
                    <option>Select</option>
                    <option value="ApplicantDetails">Applicant Details</option>
                    <option value="FinalOffer">Final Offer</option>
                    <option value="BasicDetails">Basic Details</option>
                    <option value="IncomeDetails">Income Details</option>
                    <option value="FSASummary">FSA Summary</option>
                    <option value="BSASummary">BSA Summary</option>
                    <option value="MonthlyOblication">Monthly Obligation</option>
                    <option value="GSTSummary">GST Summary</option>
                    <option value="OtherIntegrations">Other Integrations</option>
                </select>
            </div> -->
            <div class="col-2">
                <label>Dashboard Versions</label>
                <select class="form-select" (change)="loadSavedDashboard($event)" [disabled]="selectLoadDashboard">
                    <option value="">Select</option>
                    <option *ngIf="dashboardVersionList.length" value="{{dashboardVersionList[0]}}">{{dashboardVersionList[0]}} - Saved {{dashboardVersionList[1]}}</option>
                </select>
            </div>
            <div class="col-auto">
                <label><span class="required-star">STP Status</span> : </label>
                <select class="form-select" [(ngModel)]="STP_Status" [disabled]="userReadOnlyAccess">
                    <option value="">Select</option>
                    <option value="STP">STP</option>
                    <option value="GREEN">Green</option>
                    <option value="AMBER">Amber</option>
                </select>
            </div>
            <div class="col-auto">
                <label>Reason :</label>
                <input type="text" [(ngModel)]="STP_StatusReason" [disabled]="userReadOnlyAccess" class="form-control" maxlength="50"> 
            </div>
            <div class="col-auto" style="min-width:9%">
                <label *ngIf="isPD_TypeMandatory"><span class="required-star">PD Type</span> : </label>
                <label *ngIf="!isPD_TypeMandatory">PD Type : </label>
                <select class="form-select" [(ngModel)]="PD_Type" [disabled]="userReadOnlyAccess">
                    <option value="">Select</option>
                    <option value="Video PD & Vendor PD">Video PD & Vendor PD</option>
                    <option value="Credit PD & Vendor PD">Credit PD & Vendor PD</option>
                    <option value="Credit PD & Video PD">Credit PD & Video PD</option>
                    <option value="Tele PD & Video PD">Tele PD & Video PD</option>
                    <option value="Tele PD & Vendor PD">Tele PD & Vendor PD</option>
                    <option value="Tele PD & Credit PD">Tele PD & Credit PD</option>
                    <option value="Vendor PD">Vendor PD</option>
                    <option value="Credit PD">Credit PD</option>
                    <option value="Video PD">Video PD</option>
                    <option value="Tele PD">Tele PD</option>
                    <option value="No PD Done">No PD Done</option>
                </select>
            </div>
            <!-- <div class="col">
                <label>Nature of Bussiness</label>
                <select class="form-select" [(ngModel)]="natureOfBusinessDropDown">
                    <option value="">Select</option>
                    <option value="Services-IT">Services-IT</option>
                    <option value="Services-Non IT">Services-Non IT</option>
                    <option value="Manufacturing">Manufacturing</option>
                    <option value="Retail Trader">Retail Trader</option>
                    <option value="Wholesale Trader">Wholesale Trader</option>
                </select>
            </div> -->
            
        </div>
        <div class="row"  *ngIf="displaySnapshotMenu">
            <div class="col col-auto">
                Scorecard Name / Score / Segment : Judgemental / {{judgementalScore}} / {{judgementalSegment}}
            </div>
            <div class="col col-auto">
                Scorecard Name / Score / Segment : CRIF / {{CRIFScore}} / {{CRIFSegment}}
            </div>
            <!-- <div class="col col-auto">
                Total score : {{totalScore}}
            </div>
            <div class="col col-auto">
                Risk Segment : {{RiskSegment}}
            </div> -->
            
        </div>
    </div>
    <div class="clearfix"></div>

    <!-- <div style="margin-top: 7%; margin-bottom: -6%;" id="LoanView">
        <div class="card">
            <div class="card-body p-4">
                <div class="row mb-3"> -->
                    <!-- <div class="col text-center">
                        <span style="font-size: 20px!important;">
                            <b>LOAN AT A GLANCE</b>
                        </span>
                    </div> -->
                    <!-- <div class="text-center lan">
                        <span class="worksans-bold fw-bold" style="font-size: 20px;">LOAN AT A GLANCE</span>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col table-responsive">
                        <table class="table table-bordered table-striped align-middle">
                            <thead>
                                <tr>
                                    <th scope="col" class="fw-bold stickyColumn bg-white" style="width: 15%;"></th>
                                    <th scope="col" class="fw-bold"
                                        *ngFor="let applicant of applicants;let i = index">
                                        <ng-container *ngIf="applicant.applicant_type==='mainapp'">
                                            Main App
                                        </ng-container>
                                        <ng-container *ngIf="applicant.applicant_type==='co-app'">
                                            Co-App {{i}}
                                        </ng-container>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="fw-bold stickyColumn bg-white">Name</td>
                                    <td *ngFor="let applicant of applicants;let i = index">
                                        {{applicant?.custfname | NA}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-bold stickyColumn bg-white">Age</td>
                                    <td *ngFor="let applicant of applicants;let i = index">
                                        {{applicant?.custdob | age}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-bold stickyColumn bg-white">DOB/Date of Incorporation</td>
                                    <td *ngFor="let applicant of applicants;let i = index">
                                        {{applicant?.custdob | date:'YYYY-MM-dd'}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-bold stickyColumn bg-white">CIBIL Score</td>
                                    <td *ngFor="let applicant of applicants;let i = index">
                                        <ng-container
                                            *ngIf="applicant.applicant_type == 'co-app'; else elseCibilColor">
                                            <b [ngStyle]="{'color':getCibilScoreColor(applicant.cibilScore)}">
                                                {{applicant.cibilScore}}</b>
                                        </ng-container>
                                        <ng-template #elseCibilColor>
                                            {{applicant.cibilScore}}
                                        </ng-template>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-bold stickyColumn bg-white">CRIF Score</td>
                                    <td *ngFor="let applicant of applicants;let i = index">
                                        <ng-container *ngIf="applicant.applicant_type == 'co-app'">
                                            {{applicant.CRIFScore.Score}} / {{applicant.CRIFScore.Category}}
                                        </ng-container>
                                        <ng-container *ngIf="applicant.applicant_type == 'mainapp'">
                                            NA
                                        </ng-container>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <table class="table table-bordered table-striped align-middle">
                            <tbody>
                                <tr>
                                    <td class="fw-bold" style="width: 12.5%;">Sector</td>
                                    <td style="width: 12.5%;">
                                        {{applicants[0]?.custsector | NA}}
                                    </td>
                                    <td class="fw-bold" style="width: 12.5%;">Average Bank Balance (6 M.)</td>
                                    <td style="width: 12.5%;">
                                        {{applicantIncomeDetails.BSADetails.MonthlyAverageBankBalancefor6months |
                                        toNumber | number : '1.2-2'}}
                                    </td>
                                    <td class="fw-bold" style="width: 12.5%;">Turnover (Financials)</td>
                                    <td style="width: 12.5%;">
                                        {{applicantIncomeDetails.currentYearData.turnoverAsPerFinancials | toNumber
                                        | number : '1.2-2'}}
                                    </td>
                                    <td class="fw-bold">Total Monthly Obligation</td>
                                    <td>
                                        {{totalObligation.totalMonthlyObligation | toNumber | number : '1.2-2'}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Sub Sector</td>
                                    <td>
                                        {{applicants[0]?.custsubsector | NA}}
                                    </td>
                                    <td class="fw-bold">Nature of Business</td>
                                    <td>
                                        {{natureOfBusinessDropDown | NA}}
                                    </td>
                                    <td class="fw-bold">Turnover (GST)</td>
                                    <td>
                                        {{applicantIncomeDetails.currentYearData.turnoverAsPerGST | toNumber |
                                        number : '1.2-2'}}
                                    </td>
                                    <td style="width: 12.5%;"></td>
                                    <td style="width: 12.5%;"></td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Segment</td>
                                    <td>
                                        {{applicants[0]?.custsegment | NA}}
                                    </td>
                                    <td class="fw-bold">Ownership</td>
                                    <td>
                                        {{applicants[0]?.addressOwnerShip | NA}}
                                    </td>
                                    <td class="fw-bold">PAT</td>
                                    <td>
                                        {{applicantIncomeDetails.currentYearData.profitAfterTax | toNumber | number
                                        : '1.2-2'}}
                                    </td>
                                    <td style="width: 12.5%;"></td>
                                    <td style="width: 12.5%;"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div> -->
                <!-- <div class="mt-3">
                    <button class="btn btn-primary me-3">Banking Health</button>
                    <button class="btn btn-primary me-3">Financial Health</button>
                    <button class="btn btn-primary me-3">Bureau Health</button>
                    <button class="btn btn-primary me-3">Google Checker</button>
                </div> -->
            <!-- </div>
        </div>
    </div> -->

    <div class="row application-details mb-5" id="TriggeredServices">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseTwo">
                            <b>Triggered Services</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse "
                        aria-labelledby="panelsStayOpen-headingTwo">
                        <div class="accordion-body">
                            <div class="service-wrapper row row-cols-5">
                                <div class="col service-block border-end align-self-start" *ngFor="let service of applicantDetails;">
                                    <div class="service">
                                        <h4>{{service.key}}</h4>
                                        <div class="service-item row g-0" *ngFor="let detail of service.values;">
                                            <div class="col-auto align-self-start">
                                                <span class="circle" [ngClass]="{'tick': detail.status == 'Ready' || detail.status == 'PENDING', 'deactive': detail.status === 'deactive'}">âœ”</span>
                                            </div>
                                            <div class="col-auto doc-name">
                                                <b>{{detail.name}}</b><br>
                                                <span>{{detail.date}}</span>
                                            </div>
                                            <div class="col status">
                                                <span class="badge rounded-pill text-bg-{{detail.status}} float-end">{{detail.status | titlecase}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="ApplicantDetails">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseOne">
                            <b>Applicant Details</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingOne">
                        <div class="">
                            <div class="accordion-body hstack applicant-body" #applicantsElm>
                                <!-- <div class=""> -->
                                    <div class="card applicant-card" (click)="getApplicantDetails($event, applicant)" *ngFor="let applicant of applicants;let i = index">
                                        <div class="card-body">
                                            <div class="row mb-1">
                                                <div class="col">
                                                    <h4>Applicant {{i + 1}} 
                                                        <div class="cibil-badge float-end">Bureau score : 
                                                        <ng-container *ngIf="applicant.applicant_type == 'co-app'; else elseCibilColor">
                                                            <b [ngStyle]="{'color':getCibilScoreColor(applicant.cibilScore)}">
                                                        {{applicant.cibilScore}}</b>
                                                        </ng-container>
                                                        <ng-template #elseCibilColor>
                                                            <b>{{applicant.cibilScore}}</b>
                                                        </ng-template>
                                                    </div>
                                                </h4>
                                                </div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.applicant_type == 'co-app'">
                                                <div class="col">
                                                    Application Scorecard
                                                </div>
                                                <div class="col">
                                                    <p class="fw-bold">
                                                        {{applicant.CRIFScore.Score}} / {{applicant.CRIFScore.Category}}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">Name</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custfname | NA}}</p></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">Type</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custctgcode | NA}}</p></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">CIF ID</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custcif | NA}}</p></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">Age</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custdob | age}}</p></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">DOB/Date of Incorporation</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custdob | NA | date: 'yyyy-MM-dd'}}</p></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col pt-2">Relationship to KM</div>
                                                <div class="col">
                                                    <select class="form-select w-100" aria-label="Default select example" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.relationshiptokm">
                                                        <option value="HUSBAND">Husband</option>
                                                        <option value="WIFE">Wife</option>
                                                        <option value="FATHER">Father</option>
                                                        <option value="MOTHER">Mother</option>
                                                        <option value="DAUGHTER">Daughter</option>
                                                        <option value="DIRECTOR">Director</option>
                                                        <option value="PROPRIETOR">Proprietor</option>
                                                        <option value="SON">Son</option>
                                                        <option value="PARTNER">Partner</option>
                                                        <option value="SON IN LAW">Son in law</option>
                                                        <option value="BROTHER IN LAW">Brother in law</option>
                                                        <option value="SISTER IN LAW">Sister in Law</option>
                                                        <option value="FATHER IN LAW">Father in law</option>
                                                        <option value="MOTHER IN LAW">Mother in Law</option>
                                                        <option value="GRAND FATHER">Grand Father</option>
                                                        <option value="KARTA">Karta</option>
                                                        <option value="CO PERCENERS">Co parceners</option>
                                                        <option value="GRAND MOTHER">Grand Mother</option>
                                                        <option value="DAUGHTER IN LAW">Daughter in law</option>
                                                        <option value="SISTER">Sister</option>
                                                        <option value="SHAREHOLDER">Shareholder</option>
                                                        <option value="BROTHER">Brother</option>
                                                        <option value="Other" *ngIf="applicant.applicant_type == 'mainapp'">Other</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">Name of Share Holder</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custfname | NA}}</p></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col pt-2">Designation</div>
                                                <div class="col">
                                                    <select class="form-select w-100" aria-label="Default select example" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.designation">
                                                        <option value="">Select</option>
                                                        <option value="Director">Director</option>
                                                        <option value="Partner">Partner</option>
                                                        <option value="proprietor">Proprietor</option>
                                                        <option value="MD">MD</option>
                                                        <option value="CEO">CEO</option>
                                                    </select>
                                                    <!-- <p class="fw-bold">{{applicant.designation | NA}}</p> -->
                                                </div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">Constitution</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custsector | NA}}</p></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">Employment Type</div>
                                                <div class="col">
                                                    <ng-container *ngIf="applicant.applicant_type === 'mainapp'">
                                                        <p class="fw-bold">{{applicant.custemploymenttype == '' ? 'SENP' : applicant.custemploymenttype | NA}}</p>
                                                    </ng-container>
                                                    <ng-container *ngIf="applicant.applicant_type === 'co-app'">
                                                        <p class="fw-bold">{{applicant.custemploymenttype | NA}}</p>
                                                    </ng-container>
                                                </div>
                                            </div>
                                            <!-- <div class="row mb-1">
                                                <div class="col">Customer Industry</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custindustry | NA}}</p></div>
                                            </div> -->
                                            <div class="row mb-1" *ngIf="applicant.applicant_type === 'mainapp'">
                                                <ng-container *ngIf="applicant.custemploymenttype === 'SEP'">
                                                    <div class="col">Sector</div>
                                                    <div class="col">
                                                        <p class="fw-bold">{{applicant.custsector | NA}}</p>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col">Sub Sector</div>
                                                <div class="col"><p class="fw-bold">{{applicant.custsubsector | NA}}</p></div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.custsegment === 'SEP-Doctor' || applicant.custsegment === 'SEP-Dentist'">
                                                <div class="col">Sub Segment</div>
                                                <div class="col">
                                                    <p class="fw-bold">{{applicant.custsubsegment === "#" ? "NA" : applicant.custsubsegment | NA}}</p>
                                                    <!-- <select class="form-select w-100" aria-label="Default select example">
                                                        <option value="">Select</option>
                                                        <option value="Clinic">Clinic</option>
                                                        <option value="Hospital">Hospital</option>
                                                    </select> -->
                                                </div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.custctgcode === 'RETAIL'">
                                                <div class="col pt-2">Qualification</div>
                                                <div class="col">
                                                    <input type="text" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.qualification" class="form-control"/>
                                                </div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.custctgcode === 'RETAIL'">
                                                <div class="col pt-2">Total Work Experience</div>
                                                <div class="col">
                                                    <input type="number" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.custtotalwrkexp" class="form-control" min="0"/>
                                                </div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.custctgcode === 'RETAIL'">
                                                <div class="col pt-2">Current Work Experience</div>
                                                <div class="col">
                                                    <input type="number" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.custcurrentworkexperie" class="form-control" min="0"/>
                                                </div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.custsegment === 'SEP-Doctor'">
                                                <div class="col pt-2">Specialisation</div>
                                                <div class="col">
                                                    <select class="form-select w-100" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.custspecialisation" aria-label="Default select example">
                                                        <option value="">Select</option>
                                                        <option value="Cardiology">Cardiology</option>
                                                        <option value="Dermatology">Dermatology</option>
                                                        <option value="Gynaecology">Gynaecology</option>
                                                        <option value="Oncology">Oncology</option>
                                                        <option value="Pediatrics">Pediatrics</option>
                                                        <option value="Orthopedics">Orthopedics</option>
                                                        <option value="Urology">Urology</option>
                                                        <option value="Anaesthisiology">Anaesthisiology</option>
                                                        <option value="Psychology - Clinical">Psychology - Clinical</option>
                                                        <option value="ENT">ENT</option>
                                                        <option value="Gastroenterology">Gastroenterology</option>
                                                        <option value="General Medicine">General Medicine</option>
                                                        <option value="General Surgery">General Surgery</option>
                                                        <option value="Dietetics and Nutrition">Dietetics and Nutrition</option>
                                                        <option value="Laparoscopic Surgery">Laparoscopic Surgery</option>
                                                        <option value="Haematology">Haematology</option>
                                                        <option value="Infectious disease">Infectious disease</option>
                                                        <option value="Neurology">Neurology</option>
                                                        <option value="Ayurvedic">Ayurvedic</option>
                                                        <option value="Homeaopathic">Homeaopathic</option>
                                                        <option value="Unanai">Unanai</option>
                                                        <option value="Physiotherapy">Physiotherapy</option>
                                                        <option value="Radiology">Radiology</option>
                                                        <option value="Opthalmology">Opthalmology</option>
                                                        <option value="Pathology">Pathology</option>
                                                        <option value="Rheumatology">Rheumatology</option>
                                                        <option value="MBBS">MBBS</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.applicant_type == 'mainapp'">
                                                <ng-container *ngIf="applicant.custctgcode === 'RETAIL'">
                                                    <div class="col pt-2 required-star">Key Person</div>
                                                    <div class="col">
                                                        <select class="form-select w-100" [disabled]="userReadOnlyAccess" aria-label="Default select example" [(ngModel)]="applicant.corpkeyperson" (change)="updateKeyPerson($event,applicant)">
                                                            <option value="">Select</option>
                                                            <option value="YES">Yes</option>
                                                            <option value="NO">No</option>
                                                        </select>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.applicant_type == 'co-app'">
                                                <div class="col required-star pt-2">Key Person</div>
                                                <div class="col">
                                                    <select class="form-select w-100" aria-label="Default select example" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.retailkeyperson" (change)="updateKeyPerson($event,applicant)">
                                                        <option value="">Select</option>
                                                        <option value="YES">Yes</option>
                                                        <option value="NO">No</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col required-star">Ownership of Residence/Office</div>
                                                <div class="col">
                                                    <select class="form-select w-100" aria-label="Default select example" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.addressOwnerShip">
                                                        <option value="">Select</option>
                                                        <option value="Owned">Owned</option>
                                                        <option value="Rented">Rented</option>
                                                        <option value="Other">Other</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.applicant_type == 'co-app'">
                                                <div class="col pt-2">Shareholding %</div>
                                                <div class="col"><input type="number" [(ngModel)]="applicant.shareholding" [disabled]="userReadOnlyAccess" class="form-control"/></div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.custctgcode === 'RETAIL'">
                                                <div class="col pt-2">University Name</div>
                                                <div class="col"><input type="text" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.custuniversityname" class="form-control"/></div>
                                            </div>
                                            <div class="row mb-1">
                                                <div class="col pt-2">No. of Beds</div>
                                                <div class="col"><input type="number" [disabled]="userReadOnlyAccess" [(ngModel)]="applicant.custnoofbeds" class="form-control" min="0"/></div>
                                            </div>
                                            <div class="row mb-1" *ngIf="applicant.applicant_type == 'mainapp'">
                                                <div class="col required-star pt-2">Nature of Business</div>
                                                <div class="col">
                                                    <select class="form-select w-100" [(ngModel)]="natureOfBusinessDropDown" [disabled]="userReadOnlyAccess">
                                                        <option value="">Select</option>
                                                        <option value="Services-IT">Services-IT</option>
                                                        <option value="Services-Non IT">Services-Non IT</option>
                                                        <option value="Manufacturing">Manufacturing</option>
                                                        <option value="Retail Trader">Retail Trader</option>
                                                        <option value="Wholesale Trader">Wholesale Trader</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <!-- <div class="row">
                                                <div class="col">Property Owned</div>
                                                <div class="col">
                                                    <select class="form-select " aria-label="Default select example">
                                                        <option value="1">Yes</option>
                                                        <option value="2">No</option>
                                                    </select>
                                                </div>
                                            </div> -->
                                            <!-- <div class="row">
                                                <div class="col">All Score Cards</div>
                                                <div class="col"><p class="fw-bold"></p></div>
                                            </div> -->
                                        </div>
                                    </div>
                                    
                                <!-- </div> -->
                            </div>
                        </div>
                        <!-- save applicant details -->
                        <div class="row my-3"> 
                            <div class="col-3" style="margin-left: 20px;">
                                <button class="btn btn-primary" (click)="saveApplicantDetails()" [disabled]="userReadOnlyAccess">Save Applicant Details</button>
                            </div>
                        </div>
                        <div class="row px-4 pt-2 pb-4">
                            <div>
                                <h5 class="fw-bold">Remark</h5>
                                <div class="position-relative mb-2">
                                    <b *ngIf="!isEditRemark['applicantDetails']">Add New</b>
                                    <b *ngIf="isEditRemark['applicantDetails']">Edit Remark</b>
                                    <div class="position-absolute bottom-0 end-0 clearfix">
                                        <button class="btn btn-light me-2" (click)="cancelRemark('applicantDetails')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                        <button class="btn btn-primary" (click)="saveRemark('applicantDetails')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.applicantDetails===''">Save</button>
                                    </div>
                                </div>
                                <div class="mb-5">
                                    <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.applicantDetails" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                    <!-- <label for="floatingTextarea">Remark</label> -->
                                </div>
                                <div class="comments">
                                    <div class="row mb-3" *ngFor="let comment of remarkData.applicantDetails">
                                        <div class="col-2" style="width:10.666667%;">
                                            <p>{{comment.userName}}</p>
                                            <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                        </div>
                                        <div class="col">
                                            <div class="card">
                                                <div class="card-body">
                                                    <p>{{comment.remark}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-auto ps-0">
                                            <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('applicantDetails',comment)">Edit</button>
                                            <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="FinalOffer">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingFinalOffer">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseFinalOffer" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseFinalOffer">
                            <b>Final Offer</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseFinalOffer" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingFinalOffer">
                        <div class="accordion-body p-0">
                            <div class="p-4">
                                <div class="row">
                                    <div class="col">
                                        <div class="row mb-4">
                                            <div class="col">
                                                <div class="accordion-item mb-3">
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingFinalOfferInner">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                            data-bs-target="#panelsStayOpen-collapseFinalOfferInner" aria-expanded="false"
                                                            aria-controls="panelsStayOpen-collapseFinalOfferInner">
                                                            <b>Final Offer</b>
                                                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseFinalOfferInner" class="accordion-collapse collapse"
                                                        aria-labelledby="panelsStayOpen-headingFinalOfferInner">
                                                        <div class="accordion-body">
                                                            <div class="row" *ngIf="FICOInput.length > 0">
                                                                <div class="col">
                                                                    <table class="table table-bordered table-striped">
                                                                        <thead>
                                                                            <tr>
                                                                                <th scope="col" class="fw-bold w-50">Particulars</th>
                                                                                <th scope="col" colspan="5" class="fw-bold w-50">FICO Offer</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td class="fw-bold">Final Eligibility Loan Amount</td>
                                                                                <!-- <td class="fw-bold">{{this.FICOInput[0].tenor}} Months</td> -->
                                                                                <td class="fw-bold">12 Months</td>
                                                                                <td class="fw-bold">24 Months</td>
                                                                                <td class="fw-bold">36 Months</td>
                                                                                <td class="fw-bold">48 Months</td>
                                                                                <!-- <td class="fw-bold">60 Months</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Income Method</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountIncomeMethod}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountIncomeMethod}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountIncomeMethod}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountIncomeMethod}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountIncomeMethod}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountIncomeMethod}}</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Banking Surrogate</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountBankingMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountBankingMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountBankingMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountBankingMethod}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountBankingMethod}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountBankingMethod}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountBankingMethod}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountBankingMethod}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountBankingMethod}}</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>GST program</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Overdraft Income Method</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountOverdraftIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountOverdraftIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountOverdraftIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountOverdraftIncomeMethod}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Overdraft GST Method</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountOverdraftGSTMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountOverdraftGSTMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountOverdraftGSTMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountOverdraftGSTMethod}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Income Method - HT Program</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountHTIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountHTIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountHTIncomeMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountHTIncomeMethod}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Banking Method - HT Program</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountHTBankingMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountHTBankingMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountHTBankingMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountHTBankingMethod}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Overdraft Income - HT Program</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["12"]?.finalEligibleLoanAmountHTOverdraftMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["24"]?.finalEligibleLoanAmountHTOverdraftMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["36"]?.finalEligibleLoanAmountHTOverdraftMethod}}</td>
                                                                                <td>{{this.FICOInput[0].finalEligibilityLoanAmount["48"]?.finalEligibleLoanAmountHTOverdraftMethod}}</td>
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibilityLoanAmount["60"]?.finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{this.FICOInput[0].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                                <!-- <td>{{FinalEligibilityLoanAmount["24"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["36"].finalEligibleLoanAmountGSTProgram}}</td>
                                                                                <td>{{FinalEligibilityLoanAmount["48"].finalEligibleLoanAmountGSTProgram}}</td> -->
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <table class="table table-bordered table-striped align-middle">
                                                                        <thead>
                                                                            <tr>
                                                                                <th scope="col"  class="fw-bold w-50">Particulars</th>
                                                                                <th scope="col"  class="fw-bold w-50">Final Offer</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td>Eligibility Method</td>
                                                                                <td>
                                                                                    <select class="form-select" [(ngModel)]="eligibilityMethodDropdown" (change)="updateEligibility($event)" [disabled]="userReadOnlyAccess" aria-label="Default select example">
                                                                                        <option value="INCOMEMETHOD">Income Method</option>
                                                                                        <option value="BANKINGSURROGATE">Banking Surrogate</option>
                                                                                        <option value="GSTPROGRAM">GST Program</option>
                                                                                        <option value="Overdraft Income Method">Overdraft Income Method</option>
                                                                                        <option value="Overdraft GST Method">Overdraft GST Method</option>
                                                                                        <option value="Income Method - HT Program">Income Method - HT Program</option>
                                                                                        <option value="Banking Method - HT Program">Banking Method - HT Program</option>
                                                                                        <option value="Overdraft Income - HT Program">Overdraft Income - HT Program</option>
                                                                                        <!-- <option value="BL- Pre-computed">BL- Pre-computed</option>
                                                                                        <option value="BL- Pre-Filtered">BL- Pre-Filtered</option> -->
                                                                                        <option value="X-SELL INSTA">X-SELL INSTA</option>
                                                                                        <option value="X-SELL Qualified">X-SELL Qualified</option>
                                                                                        <option value="D2C - Banking LTS Program">D2C - Banking LTS Program</option>
                                                                                        <!-- <option value="SEP - Scorecard Program">SEP - Scorecard Program</option> -->

                                                                                        <ng-container *ngIf="applicants[0]?.custemploymenttype==='SEP'">
                                                                                            <option value="SEP - Income Method">SEP - Income Method</option>
                                                                                            <option value="SEP - Gross Receipts Program">SEP - Gross Receipts Program</option>
                                                                                            <option value="SEP - Banking Method">SEP - Banking Method</option>
                                                                                            <option value="SEP - Scorecard Program">SEP - Scorecard Program</option>
                                                                                        </ng-container>

                                                                                    </select>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Eligibility Loan Amount</td>
                                                                                <td>{{FICOInput[0].EligibleLoanAount | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Final Loan Amount Offered</td>
                                                                                <td>{{FICOInput[0].finassetvalue | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Tenor</td>
                                                                                <td>{{FICOInput[0].tenor | NA}}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Requested Loan Amount</td>
                                                                                <td>{{FICOInput[0].finamount | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Final Loan EMI</td>
                                                                                <td>{{FICOInput[0].finalEmiAmount | toNumber | number : '1.2-2' }}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Final FOIR</td>
                                                                                <td>{{FICOInput[0].FOIR | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                            <!-- <tr>
                                                                                <td>Recommended PD</td>
                                                                                <td></td>
                                                                            </tr> -->
                                                                            <tr>
                                                                                <td>ROI</td>
                                                                                <td>{{FICOInput[0].roi | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>ROI as per Policy</td>
                                                                                <td>{{FICOInput[0].roiAsPerPolicy | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Margin</td>
                                                                                <td >{{FICOInput[0].repaymargin | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Base Rate</td>
                                                                                <td>{{FICOInput[0].brrate | toNumber | number : '1.2-2'}}</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div>
                                                        <h5 class="fw-bold">Remark</h5>
                                                        <div class="position-relative mb-2">
                                                            <b *ngIf="!isEditRemark['finalOffer']">Add New</b>
                                                            <b *ngIf="isEditRemark['finalOffer']">Edit Remark</b>
                                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                                <button class="btn btn-light me-2" (click)="cancelRemark('finalOffer')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                                <button class="btn btn-primary" (click)="saveRemark('finalOffer')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.finalOffer===''">Save</button>
                                                            </div>
                                                        </div>
                                                        <div class="mb-5">
                                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.finalOffer" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                                        </div>
                                                        <div class="comments">
                                                            <div class="row mb-3" *ngFor="let comment of remarkData.finalOffer">
                                                                <div class="col-2" style="width:10.666667%;">
                                                                    <p>{{comment.userName}}</p>
                                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                                </div>
                                                                <div class="col">
                                                                    <div class="card">
                                                                        <div class="card-body">
                                                                            <p>{{comment.remark}}</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-auto ps-0">
                                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('finalOffer',comment)">Edit</button>
                                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mb-4">
                                            <div class="col">
                                                <div class="accordion-item mb-3">
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingSanctionConditions">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                            data-bs-target="#panelsStayOpen-collapseSanctionConditions" aria-expanded="false"
                                                            aria-controls="panelsStayOpen-collapseSanctionConditions">
                                                            <b>Sanction Conditions</b>
                                                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseSanctionConditions" class="accordion-collapse collapse"
                                                        aria-labelledby="panelsStayOpen-headingSanctionConditions">
                                                        <div class="accordion-body">
                                                            <!-- <div class="row row-cols-2">
                                                                <div class="col border-end">
                                                                    <div class="row" *ngFor="let sc of SanctionedConditions[0]">
                                                                        <div class="col col-auto">
                                                                            <span class="me-2">{{sc.seqno}}.</span> 
                                                                            <span class="badge text-bg-Ready">{{sc.status}} STATUS</span>
                                                                        </div>
                                                                        <div  class="col">
                                                                            <p  class="fw-bold">{{sc.sanctioncondition}}</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col border-end">
                                                                    <div class="row" *ngFor="let sc of SanctionedConditions[1]">
                                                                        <div class="col col-auto">
                                                                            <span class="me-2">{{sc.seqno}}.</span> 
                                                                            <span class="badge text-bg-Ready">{{sc.status}} STATUS</span>
                                                                        </div>
                                                                        <div  class="col">
                                                                            <p  class="fw-bold">{{sc.sanctioncondition}}</p>
                                                                        </div>
                                                                    </div>
                                                                </div> 
                                                            </div> -->
                                                            <!-- <div class="row" *ngFor="let sc of SanctionedConditions">
                                                                <div class="col-1" style="width
                                                                :18px;">
                                                                    {{sc.seqno}}.
                                                                </div>
                                                                <div class="col-1">
                                                                    <span class="badge text-bg-Ready text-wrap">{{sc.status}}</span>
                                                                </div>
                                                                <div class="col">
                                                                    <p class="fw-bold">{{sc.sanctioncondition}}</p>
                                                                </div>
                                                            </div> -->
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col" style="width: 6%;">Sr.No</th>
                                                                        <th scope="col">Sanction Condition</th>
                                                                        <th scope="col" style="width: 12%;">Status</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let sc of SanctionedConditions">
                                                                        <td>{{sc.seqno}}.</td>
                                                                        <td class="text-break">{{sc.sanctioncondition}}</td>
                                                                        <td class="text-break">{{sc.status}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div>
                                                        <h5 class="fw-bold">Remark</h5>
                                                        <div class="position-relative mb-2">
                                                            <b *ngIf="!isEditRemark['sanctionCondition']">Add New</b>
                                                            <b *ngIf="isEditRemark['sanctionCondition']">Edit Remark</b>
                                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                                <button class="btn btn-light me-2" (click)="cancelRemark('sanctionCondition')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                                <button class="btn btn-primary" (click)="saveRemark('sanctionCondition')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.sanctionCondition===''">Save</button>
                                                            </div>
                                                        </div>
                                                        <div class="mb-5">
                                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.sanctionCondition" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                                        </div>
                                                        <div class="comments">
                                                            <div class="row mb-3" *ngFor="let comment of remarkData.sanctionCondition">
                                                                <div class="col-2" style="width:10.666667%;">
                                                                    <p>{{comment.userName}}</p>
                                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                                </div>
                                                                <div class="col">
                                                                    <div class="card">
                                                                        <div class="card-body">
                                                                            <p>{{comment.remark}}</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-auto ps-0">
                                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('sanctionCondition',comment)">Edit</button>
                                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="accordion-item mb-3">
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingDeviation">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                            data-bs-target="#panelsStayOpen-collapseDeviation" aria-expanded="false"
                                                            aria-controls="panelsStayOpen-collapseDeviation">
                                                            <b>Deviation</b>
                                                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseDeviation" class="accordion-collapse collapse"
                                                        aria-labelledby="panelsStayOpen-headingDeviation">
                                                        <div class="accordion-body">
                                                            <p class="fw-bold">Manual Deviation</p>
                                                            <table class="table table-bordered table-striped mb-4">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col" class="fw-bold">Deviation Code</th>
                                                                        <th scope="col" class="fw-bold">Deviation Description</th>
                                                                        <th scope="col" class="fw-bold">Approval Authority</th>
                                                                        <th scope="col" class="fw-bold">Approval Status</th>
                                                                        <th scope="col" class="fw-bold">Remark</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let dev of manualDeviation">
                                                                        <td>{{dev.deviationcode}}</td>
                                                                        <td>{{dev.deviationdesc}}</td>
                                                                        <td>{{dev.delegationrole}}</td>
                                                                        <td>{{dev.approvalstatus}}</td>
                                                                        <td>{{dev.remarks}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <p class="fw-bold">Auto Deviation</p>
                                                            <table class="table table-bordered table-striped mb-4">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col" class="fw-bold">Deviation Code</th>
                                                                        <th scope="col" class="fw-bold">Deviation Description</th>
                                                                        <th scope="col" class="fw-bold">Delegation Role</th>
                                                                        <th scope="col" class="fw-bold">Approval Status</th>
                                                                        <th scope="col" class="fw-bold">Remark</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let dev of autoDeviation">
                                                                        <td>{{dev.deviationCode}}</td>
                                                                        <td>{{dev.deviationDesc}}</td>
                                                                        <td>{{dev.delegationRole}}</td>
                                                                        <td>{{dev.approvalStatus}}</td>
                                                                        <td>{{dev.remarks}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div>
                                                        <h5 class="fw-bold">Remark</h5>
                                                        <div class="position-relative mb-2">
                                                            <b *ngIf="!isEditRemark['deviation']">Add New</b>
                                                            <b *ngIf="isEditRemark['deviation']">Edit Remark</b>
                                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                                <button class="btn btn-light me-2" (click)="cancelRemark('deviation')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                                <button class="btn btn-primary" (click)="saveRemark('deviation')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.deviation===''">Save</button>
                                                            </div>
                                                        </div>
                                                        <div class="mb-5">
                                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.deviation" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                                        </div>
                                                        <div class="comments">
                                                            <div class="row mb-3" *ngFor="let comment of remarkData.deviation">
                                                                <div class="col-2" style="width:10.666667%;">
                                                                    <p>{{comment.userName}}</p>
                                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                                </div>
                                                                <div class="col">
                                                                    <div class="card">
                                                                        <div class="card-body">
                                                                            <p>{{comment.remark}}</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-auto ps-0">
                                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('deviation',comment)">Edit</button>
                                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingFinalOfferLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseFinalOfferLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseFinalOfferLogs">
                                            <b>Close Logs</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseFinalOfferLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingFinalOfferLogs">
                                        <div class="accordion-body">
                                            <h2>Logs - Final Offer</h2>
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.FinalOffer">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <p>User Requested <b>{{log.service}}</b></p>
                                                        <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="row application-list mb-5 basic-details"  id="BasicDetails">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingBasicDetails">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseBasicDetails" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseBasicDetails">
                            <b>Basic Details</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseBasicDetails" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingBasicDetails">
                        <div class="accordion-body p-0">
                            <div class="p-4">
                                <div class="row mb-4">
                                    <div class="hstack basic-details-cards" >
                                        <div class="card" *ngFor="let appcnt of applicantsBasicDetails">
                                            <div class="card-body">
                                                <h4>{{appcnt.applicant_type == 'mainapp' ? 'Main Applicant' : 'Co Applicant'}}</h4>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Name</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.custfname | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>{{appcnt.applicant_type == 'mainapp' ? 'DOB/Date of Incorporation' : 'Date of birth'}} </p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.custdob | date: 'dd/MM/yyyy' }}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Constitution</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.custsector | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Key Person</p></div>
                                                    <div class="col"><p class="fw-bold"></p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Employment type</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.applicant_type == 'mainapp' ? 'SENP' : appcnt.custemptype | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Qualification</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.qualification | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Customer Industry</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.custindustry | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Sector</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.custsector | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Sub-Sector</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.custsubsector | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Work Experience</p></div>
                                                    <div class="col"><p class="fw-bold">{{appcnt.totalworkexp | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Ownership Of Residence</p></div>
                                                    <div class="col">
                                                        <select class="form-select float-end" aria-label="Default select example" [(ngModel)]="appcnt.addressOwnerShip">
                                                            <option value="">Select</option>
                                                            <option value="Owned">Owned</option>
                                                            <option value="Rented">Rented</option>
                                                            <option value="Other">Other</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b>Add New</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('basicDetails')">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('basicDetails')">save</button>
                                            </div>
                                        </div>
                                        <div class="mb-5">
                                            <textarea class="form-control" [(ngModel)]="newremark.basicDetails" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <label for="floatingTextarea">Remark</label>
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.basicDetails">
                                                <div class="col-auto">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingBasicDetailsLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseBasicDetailsLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseBasicDetailsLogs">
                                            <b>Close Logs</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseFinalOfferLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingBasicDetailsLogs">
                                        <div class="accordion-body">
                                            <h2>Logs - Basic Details</h2>
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.BasicDetails">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <p>User Requested <b>{{log.service}}</b></p>
                                                        <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->

    <div class="row application-list mb-5 income-details" id="IncomeDetails">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingIncomeDetails">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseIncomeDetails" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseIncomeDetails">
                            <b>Income Details</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseIncomeDetails" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingIncomeDetails">
                        <div class="accordion-body p-0">
                            <div class="p-4">
                                <div class="row">
                                    <div class="hstack applicant-buttons">
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmIncome>
                                            <button class="btn btn-primary me-3" *ngFor="let appcnt of users; let i = index;" (click)="switchUserData($event, appcnt.applicantShortName, 'income_details')">Applicant {{ i + 1 }}: {{ appcnt.applicantFullName }}</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p class="fw-bold">Income Considered for Eligibility</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Variables</th>
                                                    <th scope="col">Latest Year</th>
                                                    <th scope="col">Previous Year</th>
                                                    <th scope="col" style="width:11rem;">Growth Percentage</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="required-star">Type of Financials</td>
                                                    <!-- <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.TypeofFinancials"></td>
                                                    <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.TypeofFinancials"></td> -->
                                                    <td>
                                                        <select class="form-select my-1 w-100" aria-label="Default select example" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.TypeofFinancials" [disabled]="userReadOnlyAccess">
                                                            <option value="">Select</option>
                                                            <option value="Audited">Audited</option>
                                                            <option value="Unaudited">Unaudited</option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <select class="form-select my-1 w-100" aria-label="Default select example" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.TypeofFinancials" [disabled]="userReadOnlyAccess">
                                                            <option value="">Select</option>
                                                            <option value="Audited">Audited</option>
                                                            <option value="Unaudited">Unaudited</option>
                                                        </select>
                                                    </td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">ITR Filing Date</td>
                                                    <td><input type="date" placeholder="DD-MM-YYYY" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.ITRFilingDate" style="width:10rem;"></td>
                                                    <td><input type="date" placeholder="DD-MM-YYYY" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.ITRFilingDate" style="width:10rem;"></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">Turnover as per Financials</td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('financials','turnoverAsPerFinancials')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.turnoverAsPerFinancials" (keyup)="formatCurrency($event, '', 'currentYearData', 'turnoverAsPerFinancials')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'turnoverAsPerFinancials')"></td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('financials','turnoverAsPerFinancials')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.turnoverAsPerFinancials" (keyup)="formatCurrency($event, '', 'previousYearData', 'turnoverAsPerFinancials')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'turnoverAsPerFinancials')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.turnoverAsPerFinancials - applicantIncomeDetailsEditable.previousYearData.turnoverAsPerFinancials) / applicantIncomeDetailsEditable.previousYearData.turnoverAsPerFinancials) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperTurnoverAsperfinancial}}%</td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">Turnover as per GST</td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('gst','turnoverAsPerGST'); calculateBTOfor6months(); calculateBTOfor12months();" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.turnoverAsPerGST" (keyup)="formatCurrency($event, '', 'currentYearData', 'turnoverAsPerGST')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'turnoverAsPerGST')"></td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('gst','turnoverAsPerGST')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.turnoverAsPerGST" (keyup)="formatCurrency($event, '', 'previousYearData', 'turnoverAsPerGST')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'turnoverAsPerGST')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.turnoverAsPerGST - applicantIncomeDetailsEditable.previousYearData.turnoverAsPerGST) / applicantIncomeDetailsEditable.previousYearData.turnoverAsPerGST) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperTurnoverAsperGst}}%</td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">Gross Profit</td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','grossProfit')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.grossProfit" (keyup)="formatCurrency($event, '', 'currentYearData', 'grossProfit')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'grossProfit')"></td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','grossProfit')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.grossProfit" (keyup)="formatCurrency($event, '', 'previousYearData', 'grossProfit')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'grossProfit')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.grossProfit - applicantIncomeDetailsEditable.previousYearData.grossProfit) / applicantIncomeDetailsEditable.previousYearData.grossProfit) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthpergrossProfit}}%</td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">PAT as per FSA/ITR</td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('currentYearData'); calculateGrowthPercentage('','profitAfterTax')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.profitAfterTax" (keyup)="formatCurrency($event, '', 'currentYearData', 'profitAfterTax')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'profitAfterTax')"></td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('previousYearData'); calculateGrowthPercentage('','profitAfterTax')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.profitAfterTax" (keyup)="formatCurrency($event, '', 'previousYearData', 'profitAfterTax')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'profitAfterTax')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.profitAfterTax - applicantIncomeDetailsEditable.previousYearData.profitAfterTax) / applicantIncomeDetailsEditable.previousYearData.profitAfterTax) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperprofitAfterTax}}%</td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">Depreciation</td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('currentYearData'); calculateGrowthPercentage('','depreciation')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.depreciation" (keyup)="formatCurrency($event, '', 'currentYearData', 'depreciation')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'depreciation')"></td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('previousYearData'); calculateGrowthPercentage('','depreciation')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.depreciation" (keyup)="formatCurrency($event, '', 'previousYearData', 'depreciation')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'depreciation')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.depreciation - applicantIncomeDetailsEditable.previousYearData.depreciation) / applicantIncomeDetailsEditable.previousYearData.depreciation) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperdepreciation}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Salary Paid to Partner/Director</td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('currentYearData'); calculateGrowthPercentage('','salaryPaidToPartner')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.salaryPaidToPartner" (keyup)="formatCurrency($event, '', 'currentYearData', 'salaryPaidToPartner')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'salaryPaidToPartner')"></td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('previousYearData'); calculateGrowthPercentage('','salaryPaidToPartner')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.salaryPaidToPartner" (keyup)="formatCurrency($event, '', 'previousYearData', 'salaryPaidToPartner')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'salaryPaidToPartner')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.salaryPaidToPartner - applicantIncomeDetailsEditable.previousYearData.salaryPaidToPartner) / applicantIncomeDetailsEditable.previousYearData.salaryPaidToPartner) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthpersalaryPaidToPartner}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Interest Paid to Partner/Director</td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('currentYearData'); calculateGrowthPercentage('','interestPaidToPartner')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.interestPaidToPartner" (keyup)="formatCurrency($event, '', 'currentYearData', 'interestPaidToPartner')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'interestPaidToPartner')"></td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('previousYearData'); calculateGrowthPercentage('','interestPaidToPartner')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.interestPaidToPartner" (keyup)="formatCurrency($event, '', 'previousYearData', 'interestPaidToPartner')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'interestPaidToPartner')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.interestPaidToPartner - applicantIncomeDetailsEditable.previousYearData.interestPaidToPartner) / applicantIncomeDetailsEditable.previousYearData.interestPaidToPartner) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperinterestPaidToPartner}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Directors Remuneration</td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('currentYearData'); calculateGrowthPercentage('','directorsRenumeration')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.directorsRenumeration" (keyup)="formatCurrency($event, '', 'currentYearData', 'directorsRenumeration')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'directorsRenumeration')"></td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('previousYearData'); calculateGrowthPercentage('','directorsRenumeration')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.directorsRenumeration" (keyup)="formatCurrency($event, '', 'previousYearData', 'directorsRenumeration')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'directorsRenumeration')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.directorsRenumeration - applicantIncomeDetailsEditable.previousYearData.directorsRenumeration) / applicantIncomeDetailsEditable.previousYearData.directorsRenumeration) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperdirectorsRenumeration}}%</td>
                                                </tr>
                                                <!-- <tr>
                                                    <td>Non Operating Expense</td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','nonOperatingExpense')" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.nonOperatingExpense"></td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','nonOperatingExpense')" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.nonOperatingExpense"></td>
                                                    <td>{{((applicantIncomeDetailsEditable.currentYearData.nonOperatingExpense - applicantIncomeDetailsEditable.previousYearData.nonOperatingExpense) / applicantIncomeDetailsEditable.previousYearData.nonOperatingExpense) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr> -->
                                                <!-- <tr>
                                                    <td>Non Operating Income</td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','nonOperatingIncome')" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.nonOperatingIncome"></td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','nonOperatingIncome')" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.nonOperatingIncome"></td>
                                                    <td>{{((applicantIncomeDetailsEditable.currentYearData.nonOperatingIncome - applicantIncomeDetailsEditable.previousYearData.nonOperatingIncome) / applicantIncomeDetailsEditable.previousYearData.nonOperatingIncome) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr> -->
                                                <tr>
                                                    <td>Other Income</td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('currentYearData'); calculateGrowthPercentage('','otherIncome')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.otherIncome" (keyup)="formatCurrency($event, '', 'currentYearData', 'otherIncome')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'otherIncome')"></td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('previousYearData'); calculateGrowthPercentage('','otherIncome')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.otherIncome" (keyup)="formatCurrency($event, '', 'previousYearData', 'otherIncome')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'otherIncome')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.otherIncome - applicantIncomeDetailsEditable.previousYearData.otherIncome) / applicantIncomeDetailsEditable.previousYearData.otherIncome) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperotherIncome}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Other Expenses</td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('currentYearData'); calculateGrowthPercentage('','otherExpense')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.otherExpense" (keyup)="formatCurrency($event, '', 'currentYearData', 'otherExpense')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'otherExpense')"></td>
                                                    <td><input type="text" (change)="calculateIncomeTotal('previousYearData'); calculateGrowthPercentage('','otherExpense')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.otherExpense" (keyup)="formatCurrency($event, '', 'previousYearData', 'otherExpense')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'otherExpense')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.otherExpense - applicantIncomeDetailsEditable.previousYearData.otherExpense) / applicantIncomeDetailsEditable.previousYearData.otherExpense) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthperotherExpense}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Total Income</td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','totalincome')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.totalincome" (keyup)="formatCurrency($event, '', 'currentYearData', 'totalincome')" (blur)="formatCurrency($event, 'blur', 'currentYearData', 'totalincome')"></td>
                                                    <td><input type="text" (change)="calculateGrowthPercentage('','totalincome')" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.previousYearData.totalincome" (keyup)="formatCurrency($event, '', 'previousYearData', 'totalincome')" (blur)="formatCurrency($event, 'blur', 'previousYearData', 'totalincome')"></td>
                                                    <!-- <td>{{((applicantIncomeDetailsEditable.currentYearData.totalincome - applicantIncomeDetailsEditable.previousYearData.totalincome) / applicantIncomeDetailsEditable.previousYearData.totalincome) * 100 | toNumber | number : '1.2-2'}}%</td> -->
                                                    <td>{{applicantIncomeDetailsEditable.GrowthPercentage.growthpertotalincome}}%</td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                                <tr>
                                                    <td>Maximum Permissible Loan Amount</td>
                                                    <!-- <td><input type="text" [readonly]="true" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MaximumPermissibleLoanAmount"></td> -->
                                                    <td>2,500,000</td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">SC.ABB.VAR</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.IwOwRatio" (keyup)="formatString($event, '', 'BSADetails', 'IwOwRatio')" (blur)="formatString($event, 'blur', 'BSADetails', 'IwOwRatio')"></td>
                                                </tr>
                                                <tr>
                                                    <td>Greatest Individual Contributor</td>
                                                    <td>
                                                        <input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.currentYearData.greatestIndividualContributor" (keyup)="formatString($event, '', 'currentYearData', 'greatestIndividualContributor')" (blur)="formatString($event, 'blur', 'currentYearData', 'greatestIndividualContributor')">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown!=='BANKINGSURROGATE'}">Sum of Business Credit (6 M.)</td>
                                                    <td><input type="text" (change)="calculateBTOfor6months()" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.SumofBusinessCreditfor6months" (keyup)="formatCurrency($event, '', 'BSADetails', 'SumofBusinessCreditfor6months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'SumofBusinessCreditfor6months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown!=='BANKINGSURROGATE'}">Average Bank Balance (6 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MonthlyAverageBankBalancefor6months" (keyup)="formatCurrency($event, '', 'BSADetails', 'MonthlyAverageBankBalancefor6months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MonthlyAverageBankBalancefor6months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown!=='BANKINGSURROGATE'}">BTO% (6 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.BTOfor6months" (keyup)="formatString($event, '', 'BSADetails', 'BTOfor6months')" (blur)="formatString($event, 'blur', 'BSADetails', 'BTOfor6months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown!=='BANKINGSURROGATE'}">Minimum ABB (6 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MinimumABBfor6months" (keyup)="formatCurrency($event, '', 'BSADetails', 'MinimumABBfor6months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MinimumABBfor6months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown!=='BANKINGSURROGATE'}">Minimum Credit Count P.M. norm (6 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails['MinimumcreditCountP.M.normfor6Months']" (keyup)="formatString($event, '', 'BSADetails', 'MinimumcreditCountP.M.normfor6Months')" (blur)="formatString($event, 'blur', 'BSADetails', 'MinimumcreditCountP.M.normfor6Months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown!=='BANKINGSURROGATE'}">Minimum Credit Amount P.M. norm (6 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails['MinimumCreditAmountP.M.Normfor6months']" (keyup)="formatCurrency($event, '', 'BSADetails', 'MinimumCreditAmountP.M.Normfor6months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MinimumCreditAmountP.M.Normfor6months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown==='BANKINGSURROGATE'}">Sum of Business Credit (12 M.)</td>
                                                    <td><input type="text" (change)="calculateBTOfor12months()" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.SumofBusinessCreditfor12months" (keyup)="formatCurrency($event, '', 'BSADetails', 'SumofBusinessCreditfor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'SumofBusinessCreditfor12months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown==='BANKINGSURROGATE'}">Average Bank Balance (12 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MonthlyAverageBankBalancefor12months" (keyup)="formatCurrency($event, '', 'BSADetails', 'MonthlyAverageBankBalancefor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MonthlyAverageBankBalancefor12months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown==='BANKINGSURROGATE'}">BTO% (12 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.BTO" (keyup)="formatString($event, '', 'BSADetails', 'BTO')" (blur)="formatString($event, 'blur', 'BSADetails', 'BTO')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown==='BANKINGSURROGATE'}">Minimum ABB (12 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MinimumABBfor12months" (keyup)="formatCurrency($event, '', 'BSADetails', 'MinimumABBfor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MinimumABBfor12months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown==='BANKINGSURROGATE'}">Minimum Credit Count P.M. norm (12 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails['MinimumcreditCountP.M.normfor12Months']" (keyup)="formatString($event, '', 'BSADetails', 'MinimumcreditCountP.M.normfor12Months')" (blur)="formatString($event, 'blur', 'BSADetails', 'MinimumcreditCountP.M.normfor12Months')"></td>
                                                </tr>
                                                <tr>
                                                    <td [ngClass]="{'required-star': eligibilityMethodDropdown==='BANKINGSURROGATE'}">Minimum Credit Amount P.M. norm (12 M.)</td>
                                                    <td><input type="text" [disabled]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails['MinimumCreditAmountP.M.Normfor12months']" (keyup)="formatCurrency($event, '', 'BSADetails', 'MinimumCreditAmountP.M.Normfor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MinimumCreditAmountP.M.Normfor12months')"></td>
                                                </tr>
                                                <!-- <tr>
                                                    <td>--------------------</td>
                                                </tr> -->
                                                <!-- <tr>
                                                    <td class="required-star">Sum of Business Credit</td> -->
                                                    <!-- <td class="required-star">Sum of Business Credit for 12 Months</td> -->
                                                    <!-- <td><input type="text" (change)="calculateBTOfor12months()" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.SumofBusinessCreditfor12months" (keyup)="formatCurrency($event, '', 'BSADetails', 'SumofBusinessCreditfor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'SumofBusinessCreditfor12months')"></td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">Monthly Average Bank Balance</td> -->
                                                    <!-- <td>Monthly Average Bank Balance for 6 Months</td> -->
                                                    <!-- <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MonthlyAverageBankBalancefor6months" (keyup)="formatCurrency($event, '', 'BSADetails', 'MonthlyAverageBankBalancefor6months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MonthlyAverageBankBalancefor6months')"></td>
                                                </tr> -->
                                                <!-- <tr>
                                                    <td>Monthly Average Bank Balance</td>
                                                    <td class="required-star">Monthly Average Bank Balance for 12 Months</td>
                                                    <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MonthlyAverageBankBalancefor12months" (keyup)="formatCurrency($event, '', 'BSADetails', 'MonthlyAverageBankBalancefor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MonthlyAverageBankBalancefor12months')"></td>
                                                </tr> -->
                                                <!-- <tr>
                                                    <td class="required-star">Minimum ABB</td> -->
                                                    <!-- <td class="required-star">Minimum ABB for 12 months</td> -->
                                                    <!-- <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.MinimumABBfor12months" (keyup)="formatCurrency($event, '', 'BSADetails', 'MinimumABBfor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MinimumABBfor12months')"></td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">Minimum Credit Count P.M. norm</td> -->
                                                    <!-- <td class="required-star">Minimum Credit Count P.M. norm for 12 Months</td> -->
                                                    <!-- <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails['MinimumcreditCountP.M.normfor12Months']" (keyup)="formatString($event, '', 'BSADetails', 'MinimumcreditCountP.M.normfor12Months')" (blur)="formatString($event, 'blur', 'BSADetails', 'MinimumcreditCountP.M.normfor12Months')"></td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">Minimum Credit Amount P.M. norm</td> -->
                                                    <!-- <td class="required-star">Minimum Credit Amount P.M. norm for 12 months</td> -->
                                                    <!-- <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails['MinimumCreditAmountP.M.Normfor12months']" (keyup)="formatCurrency($event, '', 'BSADetails', 'MinimumCreditAmountP.M.Normfor12months')" (blur)="formatCurrency($event, 'blur', 'BSADetails', 'MinimumCreditAmountP.M.Normfor12months')"></td>
                                                </tr>
                                                <tr>
                                                    <td class="required-star">BTO %</td>
                                                    <td><input type="text" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="applicantIncomeDetailsEditable.BSADetails.BTO" (keyup)="formatString($event, '', 'BSADetails', 'BTO')" (blur)="formatString($event, 'blur', 'BSADetails', 'BTO')"></td>
                                                </tr> -->
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col">
                                        <p class="fw-bold">Income As per FSA and BSA</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Variables</th>
                                                    <th scope="col">Latest Year</th>
                                                    <th scope="col">Previous Year</th>
                                                    <th scope="col" style="width:11rem;">Growth Percentage</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Type of Financials</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.TypeofFinancials | NA}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.TypeofFinancials | NA}}</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td>ITR Filing Date</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.ITRFilingDate | NA}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.ITRFilingDate | NA}}</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td>Turnover as per Financials</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.turnoverAsPerFinancials | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.turnoverAsPerFinancials | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.turnoverAsPerFinancials - applicantIncomeDetails.previousYearData.turnoverAsPerFinancials) / applicantIncomeDetails.previousYearData.turnoverAsPerFinancials) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Turnover as per GST</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.turnoverAsPerGST | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.turnoverAsPerGST | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.turnoverAsPerGST - applicantIncomeDetails.previousYearData.turnoverAsPerGST) / applicantIncomeDetails.previousYearData.turnoverAsPerGST) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Gross Profit</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.grossProfit | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.grossProfit | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.grossProfit - applicantIncomeDetails.previousYearData.grossProfit) / applicantIncomeDetails.previousYearData.grossProfit) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>PAT as per FSA/ITR</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.profitAfterTax | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.profitAfterTax | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.profitAfterTax - applicantIncomeDetails.previousYearData.profitAfterTax) / applicantIncomeDetails.previousYearData.profitAfterTax) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Depreciation</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.depreciation | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.depreciation | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.depreciation - applicantIncomeDetails.previousYearData.depreciation) / applicantIncomeDetails.previousYearData.depreciation) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Salary Paid to Partner/Director</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.salaryPaidToPartner | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.salaryPaidToPartner | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.salaryPaidToPartner - applicantIncomeDetails.previousYearData.salaryPaidToPartner) / applicantIncomeDetails.previousYearData.salaryPaidToPartner) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Interest Paid to Partner/Director</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.interestPaidToPartner | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.interestPaidToPartner | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.interestPaidToPartner - applicantIncomeDetails.previousYearData.interestPaidToPartner) / applicantIncomeDetails.previousYearData.interestPaidToPartner) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <tr>
                                                    <td>Directors Remuneration</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.directorsRenumeration | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.directorsRenumeration | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.directorsRenumeration - applicantIncomeDetails.previousYearData.directorsRenumeration) / applicantIncomeDetails.previousYearData.directorsRenumeration) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                                <!-- <tr>
                                                    <td>Non Operating Expense</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.nonOperatingExpense | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.nonOperatingExpense | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.nonOperatingExpense - applicantIncomeDetails.previousYearData.nonOperatingExpense) / applicantIncomeDetails.previousYearData.nonOperatingExpense) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr> -->
                                                <!-- <tr>
                                                    <td>Non Operating Income</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.nonOperatingIncome | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.nonOperatingIncome | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.nonOperatingIncome - applicantIncomeDetails.previousYearData.nonOperatingIncome) / applicantIncomeDetails.previousYearData.nonOperatingIncome) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr> -->
                                                <tr>
                                                    <td>Other Income</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.otherIncome | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.otherIncome | toNumber | number : '1.2-2'}}</td>
                                                    <td>0%</td>
                                                </tr>
                                                <tr>
                                                    <td>Other Expenses</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.otherIncome | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.otherExpense | toNumber | number : '1.2-2'}}</td>
                                                    <td>0%</td>
                                                </tr>
                                                <tr>
                                                    <td>Total Income</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.totalincome | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{applicantIncomeDetails.previousYearData.totalincome | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{((applicantIncomeDetails.currentYearData.totalincome - applicantIncomeDetails.previousYearData.totalincome) / applicantIncomeDetails.previousYearData.totalincome) * 100 | toNumber | number : '1.2-2'}}%</td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                                <tr>
                                                    <td>Maximum Permissible Loan Amount</td>
                                                    <td>2,500,000</td>
                                                </tr>
                                                <tr>
                                                    <td>SC.ABB.VAR</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.IwOwRatio}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Greatest Individual Contributor</td>
                                                    <td>{{applicantIncomeDetails.currentYearData.greatestIndividualContributor | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Sum of Business Credit (6 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.SumofBusinessCreditfor6months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Average Bank Balance (6 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.MonthlyAverageBankBalancefor6months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>BTO% (6 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.BTOfor6months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum ABB (6 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.MinimumABBfor6months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum Credit Count P.M. norm (6 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails["MinimumcreditCountP.M.normfor6Months"] | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum Credit Amount P.M. norm (6 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails["MinimumCreditAmountP.M.Normfor6months"] | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Sum of Business Credit (12 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.SumofBusinessCreditfor12months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Average Bank Balance (12 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.MonthlyAverageBankBalancefor12months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>BTO% (12 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.BTO | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum ABB (12 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.MinimumABBfor12months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum Credit Count P.M. norm (12 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails["MinimumcreditCountP.M.normfor12Months"] | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum Credit Amount P.M. norm (12 M.)</td>
                                                    <td>{{applicantIncomeDetails.BSADetails["MinimumCreditAmountP.M.Normfor12months"] | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <!-- <tr><td>---------------</td></tr>
                                                <tr>
                                                    <td>Sum of Business Credit</td> -->
                                                    <!-- <td>Sum of Business Credit for 12 Months</td> -->
                                                    <!-- <td>{{applicantIncomeDetails.BSADetails.SumofBusinessCreditfor12months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Monthly Average Bank Balance</td> -->
                                                    <!-- <td>Monthly Average Bank Balance for 6 Months</td> -->
                                                    <!-- <td>{{applicantIncomeDetails.BSADetails.MonthlyAverageBankBalancefor6months | toNumber | number : '1.2-2'}}</td>
                                                </tr> -->
                                                <!-- <tr>
                                                    <td>Monthly Average Bank Balance</td>
                                                    <td>Monthly Average Bank Balance for 12 Months</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.MonthlyAverageBankBalancefor12months | toNumber | number : '1.2-2'}}</td>
                                                </tr> -->
                                                <!-- <tr>
                                                    <td>Minimum ABB</td> -->
                                                    <!-- <td>Minimum ABB for 12 months</td> -->
                                                    <!-- <td>{{applicantIncomeDetails.BSADetails.MinimumABBfor12months | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum Credit Count P.M. norm</td> -->
                                                    <!-- <td>Minimum Credit Count P.M. norm for 12 Months</td> -->
                                                    <!-- <td>{{applicantIncomeDetails.BSADetails['MinimumcreditCountP.M.normfor12Months'] | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Minimum Credit Amount P.M. norm</td> -->
                                                    <!-- <td>Minimum Credit Amount P.M. norm for 12 months</td> -->
                                                    <!-- <td>{{applicantIncomeDetails.BSADetails['MinimumCreditAmountP.M.Normfor12months'] | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>BTO %</td>
                                                    <td>{{applicantIncomeDetails.BSADetails.BTO | toNumber | number : '1.2-2'}}</td>
                                                </tr> -->
                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <button class="btn btn-primary float-end" (click)="saveIncomeDetails()" [disabled]="userReadOnlyAccess">Save Income Details</button>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b *ngIf="!isEditRemark['incomeDetails']">Add New</b>
                                            <b *ngIf="isEditRemark['incomeDetails']">Edit Remark</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('incomeDetails')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('incomeDetails')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.incomeDetails===''">Save</button>
                                            </div>
                                        </div>
                                        <div class="mb-5">
                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.incomeDetails" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.incomeDetails">
                                                <div class="col-2" style="width:10.666667%;">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto ps-0">
                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('incomeDetails',comment)">Edit</button>
                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingIncomeDetailsLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseIncomeDetailsLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseIncomeDetailsLogs">
                                            <b>Close Logs</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseIncomeDetailsLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingIncomeDetailsLogs">
                                        <div class="accordion-body">
                                            <h2>Logs - Income Details</h2>
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.ITR">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <p>User Requested <b>{{log.service}}</b></p>
                                                        <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="MonthlyOblication">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen" >
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingMonthlyObligation"> 
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseMonthlyObligation" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseMonthlyObligation">
                            <b>Monthly Obligation</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseMonthlyObligation" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingMonthlyObligation">
                        <div class="accordion-body p-0">
                            <div class="p-4">
                                <div class="row">
                                    <div class="hstack applicant-buttons" >
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmMonthlyObligation>
                                            <button class="btn btn-light me-3" (click)="updateObligationSummery($event)">Summary</button>
                                            <button class="btn btn-light me-3" *ngFor="let user of users, let i = index;" (click)="switchUserData($event, user.applicantShortName, 'MonthlyObligation')">Applicant {{i + 1}}: {{user.applicantFullName}}</button>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="monthlyObligationSummery">
                                    <div class="row">
                                        <div class="col">
                                            <table class="table table-bordered table-striped">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">Summery</th>
                                                        <th scope="col">Value</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Total Monthly Obligation</td>
                                                        <td>{{totalObligation.totalMonthlyObligation | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Monthly Obligation for Banking Surrogate Method</td>
                                                        <td>{{totalObligation.totalMonthlyObligationBankingSurrogate | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Annual Obligation</td>
                                                        <td>{{totalObligation.totalAnnualObligation | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Unsecured Exposure</td>
                                                        <td>{{totalObligation.totalUnsecureExposure | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Secured Exposure</td>
                                                        <td>{{totalObligation.totalSecureExposure | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="!monthlyObligationSummery">
                                    <div class="row">
                                        <div class="row">
                                            <div class="row mb-3"> 
                                                <div class="float-end">
                                                    <button class="btn btn-primary float-end" (click)="addNewRowForMonthlyObligation()" [disabled]="userReadOnlyAccess">Add row</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!--mat table  -->
                                            <div class="my-wrapper">
                                                <div class="my-scroller">
                                                <table class="myTable">
                                                <thead>
                                                <tr>
                                                    <th  class="my-sticky-col " >Sr. No</th>
                                                    <th  class="my-sticky-col " style="left:5%;width:11%;">Start Date</th>
                                                    <th  class="my-sticky-col " style="left:16%;width:15%;">Financer</th>
                                                    <th  class="my-sticky-col " style="left:31%;width:8%;">Type of loan</th>
                                                    <th  class="my-sticky-col " style="left:39%;width:12%;">Loan amount</th>
                                                    <th  >Outstanding balance </th>
                                                    <th  >EMI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th> 
                                                    <th  >Tenure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >Status</th>
                                                    <th  >Security Type</th>
                                                    <th  >Considered for Banking</th>
                                                    <th  >Considered for Obligation</th>
                                                   
                                                    <th  >Repayment Bank</th>
                                                    <th  >{{monthlyObligationDetails.firstEMIMonth}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >{{monthlyObligationDetails.SecondEMIMonth}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >{{monthlyObligationDetails.ThirdEMIMonth}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >{{monthlyObligationDetails.FourthEMIMonth}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >{{monthlyObligationDetails.FifthEMIMonth}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >{{monthlyObligationDetails.SixthEMIMonth}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >Balance Tenure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                    <th  >Remarks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let obg of monthlyObligationDetails.monthlyObligation; let i = index;">
                                                        <td class="my-sticky-col" style="padding:15px;">{{i + 1}}</td>
                                                        <td class="my-sticky-col" style="left:5%;width:11%">
                                                            <input type="date" placeholder="DD-MM-YYYY" [readonly]="userReadOnlyAccess" class="form-control" [(ngModel)]="obg.loanDate" (change)="updateMonthlyObligationLoanDate(i)" >
                                                            <span *ngIf="obg.loanDateFlag">*Required</span>
                                                        </td>
                                                        <td class="my-sticky-col" style="left:16%;width:15%"> 
                                                        <mat-select class="form-control"  [(ngModel)]="obg.bankName"  [disabled]="userReadOnlyAccess">
                                                            <input (keyup)="selectBankName($event,i)" style="width: 100%;padding: 1%;"> 
                                                          
                                                           <mat-option *ngFor="let bank of selectedBanks[i]" [value]="bank">{{bank}}</mat-option>
                                                           <mat-option  [value]="obg.bankName">{{obg.bankName}}</mat-option>
                                                         </mat-select>
                                                         <div *ngIf="obg.bankNameFlag">*Required</div>
                                                        </td>
                                                        <td class="my-sticky-col" style="left:31%;width:8%;">
                                                            <mat-select class="form-control"  [(ngModel)]="obg.loanType"  [disabled]="userReadOnlyAccess">
                                                                <input (keyup)="updateMonthlyObligationLoanType($event,i)" style="width: 100%;padding: 1%;"> 
                                                              
                                                               <mat-option *ngFor="let loantype of this.selectedMonthlyObligationLoanTypeList[i]" [value]="loantype" >{{loantype}}</mat-option>
                                                               <mat-option  [value]="obg.loanType">{{obg.loanType}}</mat-option>
                                                             </mat-select>
                                                            <span *ngIf="obg.loanTypeFlag">*Required</span>
                                                        </td>
                                                        <td class="my-sticky-col"  style="left:39%;width:12%;"><input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.originalAmount" (change)="updateMonthlyObligationLoanAmount(i)"  />
                                                            <span *ngIf="obg.originalAmountFlag"
                                                             >*Required</span>
                                                        </td>
                                                        <td  > <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.outstandingBalance" (change)="updateMonthlyObligation();updateMonthlyObligationOutstandingBalance(i)" >
                                                            <span *ngIf="obg.outstandingBalanceFlag">*Required</span>
                                                        </td> 
                                                        
                                                        <td  > <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.installmentAmout" (change)="updateConsiderForObligationMethod();updateMonthlyObligationSurrogateMethod();updateMonthlyObligationInstallmentAmout(i)" >	
                                                            <span *ngIf="obg.installmentAmoutFlag">*Required</span>
                                                        </td> 

                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="obg.disableTenure || userReadOnlyAccess " [(ngModel)]="obg.Tenure" ></td>                                                  

                                                        <td>
                                                            <select  class="form-select"  [(ngModel)]="obg.ObligationStatus" (change)="updateMonthlyObligationStatus(i)" [disabled]="userReadOnlyAccess">
                                                                <option value="">Select</option>
                                                                <option value="Live">Live</option>
                                                                <option value="Close">Close</option>
                                                                <option value="Group Exposure">Group Exposure</option>
                                                                <option value="Gurantor">Gurantor</option>
                                                                <option value="Close in 6 months">Close in 6 months</option>
                                                                 
                                                                </select>
                                                        </td>       
                                                        <td>
                                                            <select class="form-select" [disabled]="obg.disableSecurityType || userReadOnlyAccess" [(ngModel)]="obg.SecurityType" (change)="updateMonthlyObligation()">
                                                                <option value="">Select</option>
                                                                <option value="Secured">Secured</option>
                                                                <option value="Unsecured">Unsecured</option>
                                                            </select>
                                                            <span *ngIf="obg.SecurityTypeFlag">*Required</span>
    
                                                        </td>
                                                        <td>
                                                            <select class="form-select" [disabled]="obg.disableConsideredForBanking  || userReadOnlyAccess" [(ngModel)]="obg.ConsideredforBanking" (change)="updateMonthlyObligationSurrogateMethod()">
                                                                <option value="">Select</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                            <span *ngIf="obg.ConsideredforBankingFlag">*Required</span>
    
                                                        </td>
                                                        <td>
                                                            <select class="form-select" [disabled]="obg.disableConsideredForObligation  || userReadOnlyAccess" [(ngModel)]="obg.ConsideredforObligation" (change)="updateConsiderForObligationMethod()">
                                                                <option value="">Select</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                            <span *ngIf="obg.ConsideredforObligationFlag">*Required</span>
    
                                                        </td>
    
                                                        
                                                        <td > 
                                                            <mat-select class="form-control"  [(ngModel)]="obg.RepaymentBank" [disabled]="userReadOnlyAccess" >
                                                                <input (keyup)="selectRepaymentBankName($event,i)" style="width: 100%;padding: 1%;"> 
                                                              
                                                               <mat-option *ngFor="let bank of selectedRepaymentBanks[i]" [value]="bank">{{bank}}</mat-option>
                                                               <mat-option  [value]="obg.bankName">{{obg.RepaymentBank}}</mat-option>
                                                             </mat-select>
                                                    
                                                            </td> 
                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.firstEMIValue" ></td>                                                  
                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.SecondEMIValue" ></td>                                                  
                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.ThirdEMIValue" ></td>                                                  
                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.FourthEMIValue" ></td>                                                  
                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.FifthEMIValue" ></td>                                                  
                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.SixthEMIValue" ></td>                                                  
                                                        <td> <input type="text" (keypress)="numberOnly($event)" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.BalanceTenure" ></td>                                                  
                                                        <td><input type="text" class="form-control" [readonly]="userReadOnlyAccess" [(ngModel)]="obg.ObligationRemarks" title="{{obg.ObligationRemarks}}" /></td>
    
                                                    </tr>
                                               
                                           
                                                </tbody>
                                                </table>
                                                </div>
                                                </div>
                                            <!-- mat table -->
                                            <ng-container *ngIf="monthlyObligationDetails.monthlyObligation">
                                                <ng-container *ngIf="monthlyObligationDetails.monthlyObligation.length!==0">
                                                    <div class="row mb-3"> 
                                                        <div class="col-3">
                                                            <button class="btn btn-primary" (click)="saveMonthlyObligation()" [disabled]="userReadOnlyAccess">Save Monthly Obligation</button>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </ng-container>
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                    <tr>
                                                        <td>Total Monthly Obligation</td>
                                                        <td>{{monthlyObligationDetails.totalMonthlyObligation | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Monthly Obligation for Banking Surrogate Method</td>
                                                        <td>{{monthlyObligationDetails.totalMonthlyObligationSurrogateMethod  | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Annual Obligation</td>
                                                        <td>{{(monthlyObligationDetails.totalAnnualObligation) | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Unsecured Exposure</td>
                                                        <td>{{monthlyObligationDetails.totalunsecuredObligation | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Secured Exposure</td>
                                                        <td>{{monthlyObligationDetails.totalsecuredObligation | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        
                                    </div>
                                    </div>
                                    <div class="row">
                                        <div>
                                            <h5 class="fw-bold">Remark</h5>
                                            <div class="position-relative mb-2">
                                                <b *ngIf="!isEditRemark['monthlyObligation']">Add New</b>
                                                <b *ngIf="isEditRemark['monthlyObligation']">Edit Remark</b>
                                                <div class="position-absolute bottom-0 end-0 clearfix">
                                                    <button class="btn btn-light me-2" (click)="cancelRemark('monthlyObligation')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                    <button class="btn btn-primary" (click)="saveRemark('monthlyObligation')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.monthlyObligation===''">Save</button>
                                                </div>
                                            </div>
                                            <div class="mb-5">
                                                <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.monthlyObligation" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                                <!-- <label for="floatingTextarea">Remark</label> -->
                                            </div>
                                            <div class="comments">
                                                <div class="row mb-3" *ngFor="let comment of remarkData.monthlyObligation">
                                                    <div class="col-2" style="width:10.666667%;">
                                                        <p>{{comment.userName}}</p>
                                                        <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                    </div>
                                                    <div class="col">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <p>{{comment.remark}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-auto ps-0">
                                                        <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('monthlyObligation',comment)">Edit</button>
                                                        <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingMonthlyObligationLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseMonthlyObligationLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseMonthlyObligationLogs">
                                            <b>Close Logs</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseMonthlyObligationLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingMonthlyObligationLogs">
                                        <div class="accordion-body">
                                            <h2>Logs - Monthly Obligation</h2>
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.MonthlyObligation">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <p>User Requested <b>{{log.service}}</b></p>
                                                        <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5"  id="FSASummary">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingFSASummery">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseFSASummery" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseFSASummery">
                            <b>FSA Summary</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseFSASummery" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingFSASummery">
                        <div class="accordion-body p-0">
                            <div class="row mx-4 mt-4">
                                <div class="col">
                                    <div class="accordion-item mb-3">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingFSAFinancialHealth">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseFSAFinancialHealth" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseFSAFinancialHealth">
                                                <b>Financial Health</b>
                                                <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseFSAFinancialHealth" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingFSAFinancialHealth">
                                            <div class="accordion-body">
                                                <ng-container *ngIf="FSA[this.users[0]?.applicantShortName]">
                                                    <ng-container *ngIf="FSA[this.users[0]?.applicantShortName].year.length!==0">
                                                        <!-- <ng-container>
                                                            <ng-container> -->
                                                        <div class="row mb-3 mt-1"> 
                                                            <div class="col-3">
                                                                <button class="btn btn-primary" (click)="getFSAAnalyticDetails()">Financial Health</button>
                                                            </div>
                                                        </div>
                                                        <div class="row" *ngIf="Object.keys(fsaFinancialResult).length!==0">
                                                            <!-- <div class="row"> -->
                                                            <div class="col">
                                                                <table class="table table-bordered table-striped align-middle">
                                                                    <thead>
                                                                        <tr>
                                                                            <th scope="col" class="fw-bold">FINANCIAL RATIO PARAMETERS</th>
                                                                            <th scope="col" class="fw-bold text-center">VALUES</th>
                                                                            <th scope="col" class="fw-bold text-center">RANGE</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>GROSS PROFIT MARGIN (IN %)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" [attr.stroke]="getFinancialRatioColor(25)" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" [attr.stroke]="getFinancialRatioColor(45)" stroke-miterlimit="10" stroke-width="32"/><path fill="none" [attr.stroke]="getFinancialRatioColor(45)" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" [attr.stroke]="getFinancialRatioColor(80)" stroke-miterlimit="10" stroke-width="32"/><path fill="none" [attr.stroke]="getFinancialRatioColor(80)" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.GrossProfitMargin}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.GrossProfitMargin}}%</span>
                                                                                </div>
                                                                            </td>
                                                                            <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                  <div id="fsa-financial-slider" class="range-slider">
                                                                                    <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                    <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                    <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0" aria-valuemax="100" aria-valuenow="40" aria-valuetext="40" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#8E191C', 'left': 'calc(40% + 5.76px)'}"></div>
                                                                                    <!-- <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="0" aria-valuemax="100" aria-valuenow="75" aria-valuetext="75" aria-disabled="false" tabindex="0" style="left: calc(75% + -6px);"></div> -->
                                                                                    <div class="range-slider__range" [ngStyle]="{'left': '40%', 'width': 'calc(100% - 40%)'}"></div>
                                                                                    <span class="min-value">0</span>
                                                                                    <span class="max-value">100</span>
                                                                                    <span class="min-label" [ngStyle]="{'color': '#8E191C', 'left': 'calc(40% - 3px)'}">MIN</span>
                                                                                    <!-- <span class="max-label" style="left: calc(75% + -6px);">MAX</span> -->
                                                                                    <span class="min-data" [ngStyle]="{'color': '#8E191C', 'left': 'calc(40% - 1px)'}">40</span>
                                                                                    <!-- <span class="max-data" style="left: calc(75% + -6px);">5</span> -->
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>EBITDA MARGIN (IN %)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.EBITDAMargin}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.EBITDAMargin}}%</span>
                                                                                </div>
                                                                                </td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <!-- <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0" aria-valuemax="100" aria-valuenow="26" aria-valuetext="26" aria-disabled="false" tabindex="0" style="left: calc(26% + 5.76px);"></div> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="0" aria-valuemax="100" aria-valuenow="10" aria-valuetext="10" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(10% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '0%', 'width': 'calc(0% + 10%)'}"></div>
                                                                                      <span class="min-value">0</span>
                                                                                      <span class="max-value">100</span>
                                                                                      <!-- <span class="min-label" style="left: calc(26% + 5.76px);">MIN</span> -->
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(10% - 5px)'}">MAX</span>
                                                                                      <!-- <span class="min-data" style="left: calc(26% + 5.76px);">1</span> -->
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(10% - 0px)'}">10</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>CURRENT RATIO (IN TIMES)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.CurrentRatio}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.CurrentRatio}}</span>
                                                                                </div></td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0.8" aria-valuemax="1.5" aria-valuenow="1.0" aria-valuetext="1.0" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#8E191C', 'left': 'calc(25% + 5.76px)'}"></div>
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="0.8" aria-valuemax="1.5" aria-valuenow="1.3" aria-valuetext="1.3" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(70% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '25%', 'width': '50%'}"></div>
                                                                                      <span class="min-value">0.8</span>
                                                                                      <span class="max-value">1.5</span>
                                                                                      <span class="min-label" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 3px)'}">MIN</span>
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 5px)'}">MAX</span>
                                                                                      <span class="min-data" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 1px)'}">1.0</span>
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 0px)'}">1.3</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>QUICK RATIO (IN TIMES)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.QuickRatio}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.QuickRatio}}</span>
                                                                                </div></td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0.6" aria-valuemax="1.4" aria-valuenow="0.8" aria-valuetext="0.8" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#8E191C', 'left': 'calc(25% + 5.76px)'}"></div>
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="0.6" aria-valuemax="1.4" aria-valuenow="1.2" aria-valuetext="1.2" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(70% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '25%', 'width': '50%'}"></div>
                                                                                      <span class="min-value">0.6</span>
                                                                                      <span class="max-value">1.4</span>
                                                                                      <span class="min-label" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 3px)'}">MIN</span>
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 5px)'}">MAX</span>
                                                                                      <span class="min-data" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 1px)'}">0.8</span>
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 0px)'}">1.2</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>DEBT EQUITY RATIO (IN TIMES)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.DebtEquityRatio}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.DebtEquityRatio}}</span>
                                                                                </div></td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <!-- <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0" aria-valuemax="100" aria-valuenow="26" aria-valuetext="26" aria-disabled="false" tabindex="0" style="left: calc(26% + 5.76px);"></div> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="2" aria-valuemax="3" aria-valuenow="2.5" aria-valuetext="2.5" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(50% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '0%', 'width': 'calc(0% + 50%)'}"></div>
                                                                                      <span class="min-value">2</span>
                                                                                      <span class="max-value">3</span>
                                                                                      <!-- <span class="min-label" style="left: calc(26% + 5.76px);">MIN</span> -->
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(50% - 5px)'}">MAX</span>
                                                                                      <!-- <span class="min-data" style="left: calc(26% + 5.76px);">1</span> -->
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(50% - 2px)'}">2.5</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>INTEREST COVERAGE RATIO (IN TIMES)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.InterestCoverageRatio}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.InterestCoverageRatio}}</span>
                                                                                </div></td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0.8" aria-valuemax="1.7" aria-valuenow="1.0" aria-valuetext="1.0" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#8E191C', 'left': 'calc(25% + 5.76px)'}"></div>
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="0.8" aria-valuemax="1.7" aria-valuenow="1.5" aria-valuetext="1.5" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(70% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '25%', 'width': '50%'}"></div>
                                                                                      <span class="min-value">0.8</span>
                                                                                      <span class="max-value">1.7</span>
                                                                                      <span class="min-label" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 3px)'}">MIN</span>
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 5px)'}">MAX</span>
                                                                                      <span class="min-data" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 1px)'}">1.0</span>
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 0px)'}">1.5</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>DEBT SERVICE COVERAGE RATIO (IN TIMES)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.DebtServiceCoverageRatio}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.DebtServiceCoverageRatio}}</span>
                                                                                </div></td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <!-- <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0" aria-valuemax="100" aria-valuenow="26" aria-valuetext="26" aria-disabled="false" tabindex="0" style="left: calc(26% + 5.76px);"></div> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="1" aria-valuemax="3" aria-valuenow="2.0" aria-valuetext="2.0" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(50% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '0%', 'width': 'calc(0% + 50%)'}"></div>
                                                                                      <span class="min-value">1</span>
                                                                                      <span class="max-value">3</span>
                                                                                      <!-- <span class="min-label" style="left: calc(26% + 5.76px);">MIN</span> -->
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(50% - 5px)'}">MAX</span>
                                                                                      <!-- <span class="min-data" style="left: calc(26% + 5.76px);">1</span> -->
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(50% - 2px)'}">2.0</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>DEBTORS DAYS (IN DAYS)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.DebtorsDays}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.DebtorsDays}}</span>
                                                                                </div></td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <!-- <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="0" aria-valuemax="100" aria-valuenow="26" aria-valuetext="26" aria-disabled="false" tabindex="0" style="left: calc(26% + 5.76px);"></div> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="100" aria-valuemax="160" aria-valuenow="130" aria-valuetext="130" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(50% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '0%', 'width': 'calc(0% + 50%)'}"></div>
                                                                                      <span class="min-value">100</span>
                                                                                      <span class="max-value">160</span>
                                                                                      <!-- <span class="min-label" style="left: calc(26% + 5.76px);">MIN</span> -->
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(50% - 5px)'}">MAX</span>
                                                                                      <!-- <span class="min-data" style="left: calc(26% + 5.76px);">1</span> -->
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(50% - 2px)'}">130</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>CREDITORS DAYS (IN DAYS)</td>
                                                                            <td>
                                                                                <div class="d-flex justify-content-center align-items-center">
                                                                                    <!-- <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><circle cx="256" cy="256" r="192" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="true">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512" style="width: 20px;"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="red" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256H176"/></svg>
                                                                                    </ng-container> -->
                                                                                    <!-- {{fsaFinancialResult.CredtorsDays}} -->
                                                                                    <span class="ms-2">{{fsaFinancialResult.CredtorsDays}}</span>
                                                                                </div></td>
                                                                                <td class="px-5" style="height:4rem; font-weight: 600 !important; width:25%;">
                                                                                    <div id="fsa-financial-slider" class="range-slider">
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="25" disabled=""> -->
                                                                                      <!-- <input type="range" min="0" max="100" step="1" value="75" disabled=""> -->
                                                                                      <div role="slider" class="range-slider__thumb" data-lower="" aria-valuemin="100" aria-valuemax="180" aria-valuenow="120" aria-valuetext="120" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#8E191C', 'left': 'calc(25% + 5.76px)'}"></div>
                                                                                      <div role="slider" class="range-slider__thumb" data-upper="" aria-valuemin="100" aria-valuemax="180" aria-valuenow="160" aria-valuetext="160" aria-disabled="false" tabindex="0" [ngStyle]="{'background': '#83C775', 'left': 'calc(70% + 5.76px)'}"></div>
                                                                                      <div class="range-slider__range" [ngStyle]="{'left': '25%', 'width': '50%'}"></div>
                                                                                      <span class="min-value">100</span>
                                                                                      <span class="max-value">180</span>
                                                                                      <span class="min-label" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 3px)'}">MIN</span>
                                                                                      <span class="max-label" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 5px)'}">MAX</span>
                                                                                      <span class="min-data" [ngStyle]="{'color': '#8E191C', 'left': 'calc(25% - 2px)'}">120</span>
                                                                                      <span class="max-data" [ngStyle]="{'color': '#83C775', 'left': 'calc(70% - 2px)'}">160</span>
                                                                                  </div>
                                                                              </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4 table-accordion" >
                                <div class="row mt-3">
                                    <div class="hstack applicant-buttons" >
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmFSA>
                                            <button class="btn btn-light me-3" *ngFor="let user of users, let i = index;" (click)="switchUserData($event, user.applicantShortName, 'fsa')">Applicant {{i + 1}}: {{user.applicantFullName}}</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row datatable-accordion" *ngIf="(FSADetails | json) != '{}'">
                                    <div class="col">
                                        <p><b>Profit and Loss Statement - Company Name</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" class="w-50">Particulars</th>
                                                    <th scope="col" [ngStyle]="{'width.%': 50/FSADetails.year.length}" *ngFor="let year of FSADetails.year">{{year | NA}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossTotalSales">
                                                    <td>Domestic Sales</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.domestic_sale">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossTotalSales">
                                                    <td>Export Sales</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.export_sale">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSAProfitLossTotalSales" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSAProfitLossTotalSales">
                                                            <span class="fw-bold">Total Sales</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.totalSale">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossGrossProfit">
                                                    <td>Operating Cost</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.operatingCost">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSAProfitLossGrossProfit" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSAProfitLossGrossProfit">
                                                            <span class="fw-bold">Gross Profit</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.GrossProfit">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Other Income</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.otherIncome">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">Gross Profit inclusive Other Income</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.Gross_profit_inclusive_otherIncome">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                    <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossIndirectOperatingExpenses">
                                                        <td>Employee Cost</td>
                                                        <td *ngFor="let data of FSADetails.profitAndLoss.emplyeeCost">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossIndirectOperatingExpenses">
                                                        <td>General and Admin Expenses</td>
                                                        <td *ngFor="let data of FSADetails.profitAndLoss.generalAndAdminCost">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossIndirectOperatingExpenses">
                                                        <td>S&D Expenses</td>
                                                        <td *ngFor="let data of FSADetails.profitAndLoss.S_D_Exense">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossIndirectOperatingExpenses">
                                                        <td>Other Expenses</td>
                                                        <td *ngFor="let data of FSADetails.profitAndLoss.otherExpenses">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSAProfitLossIndirectOperatingExpenses" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSAProfitLossIndirectOperatingExpenses">
                                                            <span class="fw-bold">Indirect Operating Expenses</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.indirectOperatingCost">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">Operating Profit(PBDIT)</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.operatingProfit">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossPBTInclusiveExtraOrdinary">
                                                    <td>Depreciation</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.Depreciation">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossPBTInclusiveExtraOrdinary">
                                                    <td>Interest Paid to partners/Directors/Co-applicants</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.IntrestPaidtoPartner">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossPBTInclusiveExtraOrdinary">
                                                    <td>Directors remuneration / Partner Salary</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.directorsRemuneration">{{data | toNumber | number : '1.2-2'}}</td>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSAProfitLossPBTInclusiveExtraOrdinary">
                                                    <td>Non Trade Expenses/One Time Expenses,Losses </td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.NonTradeExpenseLossesExceptionalItems">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSAProfitLossPBTInclusiveExtraOrdinary" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSAProfitLossPBTInclusiveExtraOrdinary">
                                                            <span class="fw-bold">PBT (Inclusive of Extraordinary Items)</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.PBTInclusiveExtraOrdinary">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">PBT (excluding of Extraordinary Items)</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.PBTExclusiveExtraOrdinary">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">Tax</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.Tax">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">PAT</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.PAT">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">Cash profit(PBT+Depreciation+Remuneration+Interest Paid to Partners)</td>
                                                    <td *ngFor="let data of FSADetails.profitAndLoss.cashProfit">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row datatable-accordion">
                                    <div class="col">
                                        <p><b>Balance Sheet - Company Name</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" class="w-50">Particulars</th>
                                                    <th scope="col" [ngStyle]="{'width.%': 50/FSADetails.year.length}" *ngFor="let year of FSADetails.year">{{year | NA}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="fw-bold">LIABILITIES</td>
                                                    <td colspan="2"></td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTangibleNetWorth">
                                                    <td>Equity Share Capital</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.equityAndShare">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTangibleNetWorth">
                                                    <td>Reserve</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.ReserveAndSurplus">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSABalanceSheetTangibleNetWorth" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSABalanceSheetTangibleNetWorth">
                                                            <span class="fw-bold">Tangible NetWorth</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.TangibleNetworth">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>Long Term Debt</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.longTermDebt">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>Short Term Debt</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.shortTermDebt">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>-CC/OD</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.ccod">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>-Other bank loans</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.otherBankLoan">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>-Unsecured loans (Non-Promoters)</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.UnsecuredLoansNonPromoters">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>Unsecure loans (Promoters)</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.unsecureLoanFromPromoters">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>Deffered Tax</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.defferedTaxLiabilities">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                    <td>Other Long term Liabilities</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.otherLongTermLiabilities">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSABalanceSheetTotal" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSABalanceSheetTotal">
                                                            <span class="fw-bold">Total</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.Total">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalCurrentLiabilities">
                                                    <td>Accounts Payable</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.accountPayble">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalCurrentLiabilities">
                                                    <td>Satutory Dues payable</td>
                                                    <!-- <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.accountPayble">{{data | toNumber | number : '1.2-2'}}</td> -->
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.accountPayble"></td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalCurrentLiabilities">
                                                    <td>Other Current Liabilities</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.otherCurrentLiabilities">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalCurrentLiabilities">
                                                    <td>Provisions</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.Provision">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSABalanceSheetTotalCurrentLiabilities" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSABalanceSheetTotalCurrentLiabilities">
                                                            <span class="fw-bold">Total Current Liabilities</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.totalCurrentLiabilities">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">Total Liabilities</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.totalLiabilities">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">Total Liabilities and Equity</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Liabilities.totalLiabilitiesEquity">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="fw-bold">ASSET</td>
                                                    <td colspan="2"></td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset">
                                                    <td>Net Fixed asset</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.netFixedAssets">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset">
                                                    <td>-Land & Building</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.landAndBuilding">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset">
                                                    <td>-Plant & machinery</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.plantAndEquipment">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset">
                                                    <td>-Other fixed asset</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.otherFixedAssets">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset">
                                                    <td>Investments</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.investments">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset">
                                                    <td>Loan & advances</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.loanAndAdvances">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSABalanceSheetTotalNonCurrentAsset">
                                                            <span class="fw-bold">Total Non Current assets</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.totalNonCurrentAsset">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>Sundry Debtors</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.sundryDebtors">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>-Debtors < 6 m</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.debatorLessThan6">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>-Debtors > 6 m</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.debatorGreaterThan6">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>Inventories</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.inventories">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>-Raw material</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.rawMaterials">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>-WIP</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.Workinprogress">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>-Finished goods</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.finishedGoods">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>Cash and bank balance</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.cashAndBankBalance">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>Other current assets</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.otherCurrentAssets">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>Short term loans & Advances</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.shortTermAndLoanAdvances">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr class="collapse" id="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                    <td>Total Current Asset</td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.totalCurrentAssets">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFSABalanceSheetTotalAsset" aria-expanded="false" aria-controls="panelsStayOpen-collapseFSABalanceSheetTotalAsset">
                                                            <span class="fw-bold">Total Asset</span>
                                                            <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                        </button>
                                                    </td>
                                                    <td *ngFor="let data of FSADetails.BalanceSheet.Assets.totalAsset">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <p><b>Ratio Analysis (Below values are in percentage)</b></p>
                                        <!-- <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Particulars</th>
                                                    <th scope="col" *ngFor="let year of FSADetails.year">{{year | NA}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Gross Profit(Annualize)/Turnover annualize</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Gross_Profit_Annualized_Turnover_Annualized">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Net Cash Profit Margin</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Net_Cash_Profit_Margin">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Current Ratio</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Current_Ratio">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Debtors Days / Debtors Collection Period</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Debtors_Days_Debtors_Collection">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Creditors Day / Creditors Payment Period</td>
                                                    <td *ngFor="let data of FSADetails.blFields.CreditorsDay_CreditorPayment">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Debt Equity Ratio</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Debt_Equity_Ratio">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                            </tbody>
                                        </table> -->
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingFSAProfitabilityRatio">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapseFSAProfitabilityRatio" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapseFSAProfitabilityRatio">
                                                    <p class="fw-bold">Profitability Ratio</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapseFSAProfitabilityRatio" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFSAProfitabilityRatio">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped align-middle">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col" class="w-40">Particulars</th>
                                                                <th scope="col" class="w-10">Presentation</th>
                                                    <th scope="col" [ngStyle]="{'width.%': 50/FSADetails.year.length}" *ngFor="let year of FSADetails.year">{{year | NA}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Gross Profit(Annualized)/Turnover Annualized</td>
                                                                <td>%</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Gross_Profit_Annualized_Turnover_Annualized">{{data  | toNumber | number : '1.2-2'}}&nbsp;%</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Operating Profit Ratio</td>
                                                                <td>%</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Operating_Profit_Ratio">{{data | toNumber | number : '1.2-2'}}&nbsp;%</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Net Margin</td>
                                                                <td>%</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Net_Margin">{{data | toNumber | number : '1.2-2'}}&nbsp;%</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Cash Profit Margin</td>
                                                                <td>%</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Gross_Cash_Profit_Margin">{{data | toNumber | number : '1.2-2'}}&nbsp;%</td>
                                                            </tr>
                                                            <!-- <tr>
                                                                <td>Net Cash Profit Margin</td>
                                                                <td *ngFor="let data of FSADetails.blFields.Net_Cash_Profit_Margin">{{data | toNumber | number : '1.2-2'}}</td>
                                                            </tr> -->
                                                            <tr>
                                                                <td>Return on Equity (ROE)</td>
                                                                <td>%</td>
                                                    <td *ngFor="let data of FSADetails.blFields.ReturnOnEquity">{{data | toNumber | number : '1.2-2'}}&nbsp;%</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Return on Capital Employed (ROCE) (post - tax)</td>
                                                                <td>%</td>
                                                    <td *ngFor="let data of FSADetails.blFields.ReturnOnCapitalEmployed">{{data | toNumber | number : '1.2-2'}}&nbsp;%</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingFSAActivityTurnoverRatio">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapseFSAActivityTurnoverRatio" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapseFSAActivityTurnoverRatio">
                                                    <p class="fw-bold">Activity/ Efficiancy/ Performance/ Turnover Ratio</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapseFSAActivityTurnoverRatio" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFSAActivityTurnoverRatio">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col" class="w-40">Particulars</th>
                                                                <th scope="col" class="w-10">Presentation</th>
                                                    <th scope="col" [ngStyle]="{'width.%': 50/FSADetails.year.length}" *ngFor="let year of FSADetails.year">{{year | NA}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Total Asset Turnover Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Total_Assets_Turnover_Ratio">{{data/100 | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Current Asset Turnover Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Current_Assets_Turnover_Ratio">{{data/100 | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Working Capital Turnover Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Working_Capital_Turnover_Ratio">{{data/100 | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Debtors Day/ Debtors collection Period</td>
                                                                <td>Days</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Debtors_Days_Debtors_Collection">{{data/100 | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Inventory Day/ Stock Replanishment Period</td>
                                                                <td>Days</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Inventory_Days_Stock_Replenishment">{{data/100 | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Creditors Day/ Creditors Payment Period</td>
                                                                <td>Days</td>
                                                    <td *ngFor="let data of FSADetails.blFields.CreditorsDay_CreditorPayment">{{data/100 | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingFSALiquiditySolvencyRatios">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapseFSALiquiditySolvencyRatios" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapseFSALiquiditySolvencyRatios">
                                                    <p class="fw-bold">Liquidity / Short Term Solvency Ratios</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapseFSALiquiditySolvencyRatios" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFSALiquiditySolvencyRatios">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col" class="w-40">Particulars</th>
                                                                <th scope="col" class="w-10">Presentation</th>
                                                    <th scope="col" [ngStyle]="{'width.%': 50/FSADetails.year.length}" *ngFor="let year of FSADetails.year">{{year | NA}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Current Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Current_Ratio">{{data/100  | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Quick Ratio / Acid Test Ratio / Liquid Ratio(Excluding inventories)</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Quick_AcidTest_Liquid_Ratio">{{data/100  | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingFSALeverageRatio">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapseFSALeverageRatio" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapseFSALeverageRatio">
                                                    <p class="fw-bold">Leverage Ratio</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapseFSALeverageRatio" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFSALeverageRatio">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col" class="w-40">Particulars</th>
                                                                <th scope="col" class="w-10">Presentation</th>
                                                    <th scope="col" [ngStyle]="{'width.%': 50/FSADetails.year.length}" *ngFor="let year of FSADetails.year">{{year | NA}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Debt Service Coverage Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Debt_Service_Coverage_Ratio">{{data/100  | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Interest Coverage Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Interest_Coverage_Ratio">{{data/100  | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Debt Equity Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Debt_Equity_Ratio">{{data/100  | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Debt Ratio</td>
                                                                <td>Times</td>
                                                    <td *ngFor="let data of FSADetails.blFields.Total_liabilities_Networth_Ratio">{{data/100  | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b *ngIf="!isEditRemark['fsa']">Add New</b>
                                            <b *ngIf="isEditRemark['fsa']">Edit Remark</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('fsa')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('fsa')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.fsa===''">Save</button>
                                            </div>
                                        </div>
                                        <div class="mb-5">
                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.fsa" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.fsa">
                                                <div class="col-2" style="width:10.666667%;">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto ps-0">
                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('fsa',comment)">Edit</button>
                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingFSALogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseFSALogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseFSALogs">
                                            <b>Download FSA</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseFSALogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingFSALogs">
                                        <div class="accordion-body">
                                            <!-- <h2>Logs - FSA Details</h2> -->
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.FSA">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <div class="d-flex">
                                                            <div>
                                                                <p>User Requested <b>{{log.service}}</b></p>
                                                                <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                            </div>
                                                            <div class="ms-3">
                                                                <button class="btn ms-1" type="button" (click)="onZipFileDownload(log)"><img style="width: 25px;" src="./assets/images/icons/zip.svg"></button>
                                                                <button class="btn ms-1" type="button" (click)="onExcelFileDownload(log)"><img  style="width: 25px;" src="./assets/images/icons/excel.svg"></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="BSASummary">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingBSASummery">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseBSASummery" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseBSASummery">
                            <b>BSA Summary</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                   
                    <div id="panelsStayOpen-collapseBSASummery" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingBSASummery">
                        <div class="accordion-body p-0">
                            <div class="row mx-4 mt-4">
                                <div class="col">
                                    <div class="accordion-item mb-3">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingBSABankingHealth">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseBSABankingHealth" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseBSABankingHealth">
                                                <b>Banking Health</b>
                                                <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseBSABankingHealth" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingBSABankingHealth">
                                            <div class="accordion-body">
                                                        <div class="row mb-3 mt-1"> 
                                                            <div class="col-3">
                                                                <button class="btn btn-primary" (click)="getBSABankingHealth()">Banking Health</button>
                                                            </div>
                                                        </div>
                                                        <div class="row" *ngIf="Object.keys(bsaBankingHealthDetail).length!==0">
                                                            <div class="hstack applicant-buttons" >
                                                                <span class=" me-3">View for : </span>
                                                                <div #applicantsElmBSABankHealth>
                                                                    <button class="btn btn-primary me-3" >Applicant 1: {{applicants[0]?.custfname}}</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row" *ngIf="bsaBankingHealth.length!==0">
                                                            <div class="hstack applicant-buttons">
                                                                <span class="me-3">View for : </span>
                                                                <div #applicantsElmBSABankHealthacc>
                                                                    <button class="btn btn-light me-3" (click)="switchUserData($event, 4, 'bsaBankHealth')">Summary</button>
                                                                    <button class="btn btn-light me-3" *ngFor="let account of bsaBankingHealthResult, let i = index;" (click)="switchUserData($event, account.accountNum, 'bsaBankHealth')">Bank Account {{i + 1}}</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                            <ng-container *ngIf="Object.keys(bsaBankingHealthDetail).length!==0">
                                                                <div class="row">
                                                                    <div class="col px-4">
                                                                        <p class="text-center"><b>Banking Consistency Scorecard</b></p>
                                                                        <ng-container *ngIf="bsaBankingHealthDetail.ABB; else elseABB">
                                                                            <ng-container *ngIf="Object.keys(bsaBankingHealthDetail.ABB).length!==0; else elseABB">
                                                                                <table class="table table-bordered table-striped align-middle">
                                                                                    <thead>
                                                                                        <tr>
                                                                                            <th scope="col" class="text-center" style="width: 20%;">Customer type</th>
                                                                                            <th scope="col" class="text-center">Value</th>
                                                                                            <th scope="col" style="width: 32%;"></th>
                                                                                            <th scope="col" class="text-center" style="width: 30%;">Range</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td scope="col" rowspan="6" class="text-center fw-bold" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.abbModelColor)}">{{bsaBankingHealthDetail.ABB?.abbModelCustomerType | NA}}</td>
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balConsitencyBreachCountColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balConsitencyBreachCountColor)==='#FFDE17'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balConsitencyBreachCountColor)==='#83C775'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balConsitencyBreachCountColor)==='#df4747'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <span class="ms-2 fw-bold">
                                                                                                        {{bsaBankingHealthDetail.ABB?.balConsitencyBreachCount | NA}}
                                                                                                    </span>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td scope="col" class="fw-bold text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balConsitencyBreachCountColor)}">Balance Consistency</td>
                                                                                            <td scope="col" class="text-center fw-bold" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balConsitencyBreachCountColor)}">{{bsaBankingHealthDetail.ABB?.balConsitencyBreachCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balanceTrendDifferenceColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balanceTrendDifferenceColor)==='#FFDE17'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balanceTrendDifferenceColor)==='#83C775'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balanceTrendDifferenceColor)==='#df4747'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <span class="ms-2" >
                                                                                                        {{bsaBankingHealthDetail.ABB?.balanceTrendDifference | NA}} %
                                                                                                    </span>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balanceTrendDifferenceColor)}">Balance Trend</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.balanceTrendDifferenceColor)}">{{bsaBankingHealthDetail.ABB?.balanceTrendDifferenceMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCountColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCountColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCountColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCountColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">
                                                                                                    {{bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCount | NA}}
                                                                                                </span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCountColor)}">Credit Balance Consistency</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCountColor)}">{{bsaBankingHealthDetail.ABB?.CCBalConsistencyThresholdBreachCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ACCBreachCountColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ACCBreachCountColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ACCBreachCountColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ACCBreachCountColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">
                                                                                                    {{bsaBankingHealthDetail.ABB?.ACCBreachCount | NA}}
                                                                                                </span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ACCBreachCountColor)}">Credit Count Consistency</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ACCBreachCountColor)}">{{bsaBankingHealthDetail.ABB?.ACCBreachCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ADCBreachCountColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ADCBreachCountColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ADCBreachCountColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ADCBreachCountColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">
                                                                                                    {{bsaBankingHealthDetail.ABB?.ADCBreachCount | NA}}
                                                                                                </span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ADCBreachCountColor)}">Debit Count Consistency</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.ADCBreachCountColor)}">{{bsaBankingHealthDetail.ABB?.ADCBreachCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.inwardChequeBounceRateColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.inwardChequeBounceRateColor)==='#FFDE17'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.inwardChequeBounceRateColor)==='#83C775'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.inwardChequeBounceRateColor)==='#df4747'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <span class="ms-2">
                                                                                                        {{bsaBankingHealthDetail.ABB?.inwardChequeBounceRate | NA}} %
                                                                                                    </span>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.inwardChequeBounceRateColor)}">Inward Cheque Bounces</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.ABB?.inwardChequeBounceRateColor)}">{{bsaBankingHealthDetail.ABB?.inwardChequeBounceRateMath | NA}}</td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <ng-template #elseABB>
                                                                            <table class="table table-bordered table-striped align-middle">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th scope="col" class="text-center">Customer type</th>
                                                                                        <th scope="col" class="text-center">Value</th>
                                                                                        <th scope="col"></th>
                                                                                        <th scope="col" class="text-center">Range</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td scope="col" rowspan="6" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Balance Consistency</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Balance Trend</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Credit Balance Consistency</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Credit Count Consistency</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Debit Count Consistency</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Inward Cheque Bounces</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </ng-template>
                                                                    </div>
                                                                    <div class="col px-4">
                                                                        <p class="text-center"><b style="padding-left:8px">Concentration Risk</b></p>
                                                                        <ng-container *ngIf="bsaBankingHealthDetail.concentrationRisk; else elseConcentrationRisk">
                                                                            <ng-container *ngIf="Object.keys(bsaBankingHealthDetail.concentrationRisk).length!==0; else elseConcentrationRisk">
                                                                                <div class="row">
                                                                                    <div class="col-6 border-end border-dark border-opacity-25">
                                                                                        <p class="text-center fw-bold">Creditor Concentration</p>
                                                                                        <ng-container *ngIf="bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationRedFalg">
                                                                                            <!-- if red -->
                                                                                            <ng-container *ngFor="let creditor of bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationList;let i = index">
                                                                                                <div class="row mb-2" *ngIf="getBsaBankHealthColor(creditor.creditorConcentrationColor)==='#df4747'">
                                                                                                    <div class="col-2 text-center align-middle">
                                                                                                        <img class="svgimg" src="./assets/images/icons/cross-circle-red.svg" style="width:30px">
                                                                                                    </div>
                                                                                                    <div class="col-10">
                                                                                                        <span [ngStyle]="{'color':getBsaBankHealthColor(creditor.creditorConcentrationColor)}"><b>Creditor Concentration Risk</b></span> - {{creditor.creditorConcentrationParty}} Creditor Concentration > 25%                                                                                                        
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="!bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationRedFalg">
                                                                                            <!-- if not red (green) -->
                                                                                            <div class="text-center mt-5">
                                                                                                <img class="svgimg" src="./assets/images/icons/checkmark-circle-green.svg" style="width: 30%;">                                                                                                    
                                                                                            </div>
                                                                                            <div class="mb-5">
                                                                                                <div class="text-center">
                                                                                                    <span [ngStyle]="{'color':getBsaBankHealthColor('Green')}"><b>No Creditor Concentration Risk</b></span> - Creditor Concentration <= 25%                                                                                                    
                                                                                                </div>
                                                                                            </div>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                    <div class="col-6">
                                                                                        <p class="text-center fw-bold">Debtor Concentration</p>
                                                                                        <ng-container *ngIf="bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationRedFalg">
                                                                                            <!-- if red -->
                                                                                            <ng-container *ngFor="let debtor of bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationList;let i = index">
                                                                                                <div class="row mb-2" *ngIf="getBsaBankHealthColor(debtor.debtorConcentrationColor)==='#df4747'">
                                                                                                    <div class="col-2 text-center">
                                                                                                        <img class="svgimg" src="./assets/images/icons/cross-circle-red.svg" style="width:30px">
                                                                                                    </div>
                                                                                                    <div class="col-10">
                                                                                                        <span [ngStyle]="{'color':getBsaBankHealthColor(debtor.debtorConcentrationColor)}"><b>Debtor Concentration Risk</b></span> - {{debtor.debtorConcentrationParty}} Debtor Concentration > 25%                                                                                                        
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="!bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationRedFalg">
                                                                                            <!-- if not red (green) -->
                                                                                            <div class="text-center mt-5">
                                                                                                <img class="svgimg" src="./assets/images/icons/checkmark-circle-green.svg" style="width: 30%;">                                                                                                    
                                                                                            </div>
                                                                                            <div class="mb-5">
                                                                                                <div class="text-center">
                                                                                                    <span [ngStyle]="{'color':getBsaBankHealthColor('Green')}"><b>No Debtor Concentration Risk</b></span> - Debtor Concentration <= 25%                                                                                                    
                                                                                                </div>
                                                                                            </div>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                </div>
                                                                                <!-- <table class="table table-borderless">
                                                                                    <thead>
                                                                                        <tr>
                                                                                            <th scope="col" class="text-center border-end border-dark border-opacity-25" style="width:50%;">Creditor Concentration</th>
                                                                                            <th scope="col" class="text-center" style="width:50%;">Debtor Concentration</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td scope="col" class="text-center border-end border-dark border-opacity-25">
                                                                                                green
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/checkmark-circle-green.svg" style="width: 30%;">
                                                                                                </ng-container>

                                                                                                red
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/cross-circle-red.svg" style="width: 30%;">
                                                                                                </ng-container>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center">
                                                                                                green
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/checkmark-circle-green.svg" style="width: 30%;">
                                                                                                </ng-container>

                                                                                                red
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/cross-circle-red.svg" style="width: 30%;">
                                                                                                </ng-container>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" class="text-center border-end border-dark border-opacity-25">
                                                                                                green
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationValue<=25">
                                                                                                    <span [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationColor)}"><b>No Creditor Concentration Risk</b></span> - Creditor Concentration <= 25%
                                                                                                </ng-container>

                                                                                                red
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationValue>25">
                                                                                                    <span [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationColor)}"><b>Creditor Concentration Risk</b></span> - {{bsaBankingHealthDetail.concentrationRisk?.creditorConcentrationParty}} Creditor Concentration > 25%
                                                                                                </ng-container>

                                                                                            </td>
                                                                                            <td scope="col" class="text-center">
                                                                                                green
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationValue<=25">
                                                                                                    <span [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationColor)}"><b>No Debtor Concentration Risk</b></span> - Debtor Concentration <= 25%
                                                                                                </ng-container>


                                                                                                red
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationValue>25">
                                                                                                    <span [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationColor)}"><b>Debtor Concentration Risk</b></span> - {{bsaBankingHealthDetail.concentrationRisk?.debtorConcentrationParty}} Creditor Concentration > 25%
                                                                                                </ng-container>

                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table> -->
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <ng-template #elseConcentrationRisk>
                                                                            <table class="table table-borderless">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th scope="col" class="text-center border-end border-dark border-opacity-25" style="width:50%;">Creditor Concentration</th>
                                                                                        <th scope="col" class="text-center" style="width:50%;">Debtor Concentration</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center border-end border-dark border-opacity-25">
                                                                                            <span><b>NA</b></span>
                                                                                        </td>
                                                                                        <td scope="col" class="text-center">
                                                                                            <span><b>NA</b></span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </ng-template>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4">
                                                                    <div class="col px-4">
                                                                        <p class="text-center"><b>Transaction Analytics</b></p>
                                                                        <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics; else elseTransactionAnalytics">
                                                                            <ng-container *ngIf="Object.keys(bsaBankingHealthDetail.transactionAnalytics).length!==0; else elseTransactionAnalytics">
                                                                                <table class="table table-bordered table-striped align-middle" style="height:80%;">
                                                                                    <thead>
                                                                                        <tr>
                                                                                            <th colspan="2" class="text-center">Segments</th>
                                                                                            <th scope="col" class="text-center">Amount (In Lakhs)</th>
                                                                                            <th scope="col" class="text-center">Amount %</th>
                                                                                            <th scope="col" class="text-center">Count</th>
                                                                                            <th scope="col" class="text-center">Count %</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td scope="col" rowspan="2" class="text-center">Self & Related Party</td>
                                                                                            <td scope="col" class="text-center">Credit</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyCreditAmount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyCreditAmountPercent | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyCreditCount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyCreditCountPercent | NA}}</td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" class="text-center">Debit</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyDebitAmount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyDebitAmountPercent | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyDebitCount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.selfRelatedPartyDebitCountPercent | NA}}</td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" rowspan="2" class="text-center">High Value</td>
                                                                                            <td scope="col" class="text-center">Credit</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsCreditAmount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsCreditAmountPercent | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsCreditCount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsCreditCountPercent | NA}}</td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" class="text-center">Debit</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsDebitAmount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsDebitAmountPercent | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsDebitCount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.highValueXnsDebitCountPercent | NA}}</td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" rowspan="2" class="text-center">Non Trade</td>
                                                                                            <td scope="col" class="text-center">Credit</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsCreditAmount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsCreditAmountPercent | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsCreditCount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsCreditCountPercent | NA}}</td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" class="text-center">Debit</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsDebitAmount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsDebitAmountPercent | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsDebitCount | NA}}</td>
                                                                                            <td scope="col" class="text-center">{{bsaBankingHealthDetail.transactionAnalytics?.nonTradeXnsDebitCountPercent | NA}}</td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" class="text-center">Circular</td>
                                                                                            <td scope="col" class="text-center">Total</td>
                                                                                            <td scope="col" class="text-center">
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.circularXnsAmount">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.circularXnsAmount | NA}}
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.ccircularXnsAmount">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.ccircularXnsAmount | NA}}
                                                                                                </ng-container>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center">
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.circularXnsAmountPercent">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.circularXnsAmountPercent | NA}}
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.ccircularXnsAmountPercent">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.ccircularXnsAmountPercent | NA}}
                                                                                                </ng-container>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center">
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.circularXnsCount">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.circularXnsCount | NA}}
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.ccircularXnsCount">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.ccircularXnsCount | NA}}
                                                                                                </ng-container>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center">
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.circularXnsCountPercent">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.circularXnsCountPercent | NA}}
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="bsaBankingHealthDetail.transactionAnalytics?.finalCircularXnsCountPercent">
                                                                                                    {{bsaBankingHealthDetail.transactionAnalytics?.finalCircularXnsCountPercent | NA}}
                                                                                                </ng-container>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <ng-template #elseTransactionAnalytics>
                                                                            <table class="table table-bordered table-striped align-middle" style="height:80%;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th scope="col" class="text-center">Segments</th>
                                                                                        <th scope="col" class="text-center" style="border-left:none"></th>
                                                                                        <th scope="col" class="text-center">Amount (In Lakhs)</th>
                                                                                        <th scope="col" class="text-center">Amount %</th>
                                                                                        <th scope="col" class="text-center">Count</th>
                                                                                        <th scope="col" class="text-center">Count %</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td scope="col" rowspan="2" class="text-center">Self & Related Party</td>
                                                                                        <td scope="col" class="text-center">Credit</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">Debit</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" rowspan="2" class="text-center">High Value</td>
                                                                                        <td scope="col" class="text-center">Credit</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">Debit</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" rowspan="2" class="text-center">Non Trade</td>
                                                                                        <td scope="col" class="text-center">Credit</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">Debit</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">Circular</td>
                                                                                        <td scope="col" class="text-center">Total</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </ng-template>
                                                                    </div>
                                                                    <div class="col px-4">
                                                                        <p class="text-center"><b>Poor Banking Behaviour</b></p>
                                                                        <ng-container *ngIf="bsaBankingHealthDetail.PBB; else elsePBB">
                                                                            <ng-container *ngIf="Object.keys(bsaBankingHealthDetail.PBB).length!==0; else elsePBB">
                                                                                <table class="table table-bordered table-striped align-middle">
                                                                                    <thead>
                                                                                        <tr>
                                                                                            <th scope="col" class="text-center" style="width: 28%;">Triggers</th>
                                                                                            <th scope="col" class="text-center">Value</th>
                                                                                            <th scope="col" style="width: 30%;"></th>
                                                                                            <th scope="col" class="text-center">Range</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td scope="col" rowspan="5" class="text-center">Poor Banking Behaviour</td>
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.abbRateColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.abbRateColor)==='#FFDE17'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.abbRateColor)==='#83C775'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.abbRateColor)==='#df4747'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <span class="ms-2 fw-bold">{{bsaBankingHealthDetail.PBB?.abbRate | NA}}</span>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td scope="col" class="fw-bold text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.abbRateColor)}">ABB / EMI</td>
                                                                                            <td scope="col" class="text-center fw-bold" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.abbRateColor)}">{{bsaBankingHealthDetail.PBB?.abbRateMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.inwardChqBncRateColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.inwardChqBncRateColor)==='#FFDE17'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.inwardChqBncRateColor)==='#83C775'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.inwardChqBncRateColor)==='#df4747'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <span class="ms-2">{{bsaBankingHealthDetail.PBB?.inwardChqBncRate | NA}} %</span>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.inwardChqBncRateColor)}">Inward Cheque Bounces</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.inwardChqBncRateColor)}">{{bsaBankingHealthDetail.PBB?.inwardChqBncRateMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.bounceCountColor)}">
                                                                                                <div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.bounceCountColor)==='#FFDE17'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.bounceCountColor)==='#83C775'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.bounceCountColor)==='#df4747'">
                                                                                                        <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                    </ng-container>
                                                                                                    <span class="ms-2">{{bsaBankingHealthDetail.PBB?.bounceCount | NA}}</span>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.bounceCountColor)}">EMI Bounce</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.bounceCountColor)}">{{bsaBankingHealthDetail.PBB?.bounceCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.avgUtilizationColor)}"><div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.avgUtilizationColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.avgUtilizationColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.avgUtilizationColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">{{bsaBankingHealthDetail.PBB?.avgUtilization | NA}} %</span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.avgUtilizationColor)}">Avg. Limit Utilisation</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.avgUtilizationColor)}">{{bsaBankingHealthDetail.PBB?.avgUtilizationMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.overDrawnCountColor)}"><div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.overDrawnCountColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.overDrawnCountColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.overDrawnCountColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">{{bsaBankingHealthDetail.PBB?.overDrawnCount | NA}}</span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.overDrawnCountColor)}">Overdrawn</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.overDrawnCountColor)}">{{bsaBankingHealthDetail.PBB?.overDrawnCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td scope="col" rowspan="5" class="text-center">General</td>
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.cashDepositToCreditColor)}"><div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.cashDepositToCreditColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.cashDepositToCreditColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.cashDepositToCreditColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2 fw-bold">{{bsaBankingHealthDetail.PBB?.cashDepositToCredit | NA}} %</span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="fw-bold text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.cashDepositToCreditColor)}">Cash Deposit/Credits</td>
                                                                                            <td scope="col" class="text-center fw-bold" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.cashDepositToCreditColor)}">{{bsaBankingHealthDetail.PBB?.cashDepositToCreditMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.penalChargesCountColor)}"><div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.penalChargesCountColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.penalChargesCountColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.penalChargesCountColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">{{bsaBankingHealthDetail.PBB?.penalChargesCount | NA}}</span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.penalChargesCountColor)}">Penal Charges</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.penalChargesCountColor)}">{{bsaBankingHealthDetail.PBB?.penalChargesCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessCreditCountColor)}"><div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessCreditCountColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessCreditCountColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessCreditCountColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">{{bsaBankingHealthDetail.PBB?.businessCreditCount | NA}}</span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessCreditCountColor)}">Business Credits</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessCreditCountColor)}">{{bsaBankingHealthDetail.PBB?.businessCreditCountMath | NA}}</td>
                                                                                        </tr>
                                                                                        <tr class="fw-bold">
                                                                                            <td scope="col" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessDebitCountColor)}"><div class="d-flex align-items-center" style="padding-left:20%;">
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessDebitCountColor)==='#FFDE17'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/empty-circle-amber.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessDebitCountColor)==='#83C775'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/plus-circle-green.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessDebitCountColor)==='#df4747'">
                                                                                                    <img class="svgimg" src="./assets/images/icons/minus-circle-red.svg" style="width: 18px;">
                                                                                                </ng-container>
                                                                                                <span class="ms-2">{{bsaBankingHealthDetail.PBB?.businessDebitCount | NA}}</span>
                                                                                            </div></td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessDebitCountColor)}">Business Debits</td>
                                                                                            <td scope="col" class="text-center" [ngStyle]="{'color':getBsaBankHealthColor(bsaBankingHealthDetail.PBB?.businessDebitCountColor)}">{{bsaBankingHealthDetail.PBB?.businessDebitCountMath | NA}}</td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <ng-template #elsePBB>
                                                                            <table class="table table-bordered table-striped align-middle">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th scope="col" class="text-center">Triggers</th>
                                                                                        <th scope="col" class="text-center">Value</th>
                                                                                        <th scope="col"></th>
                                                                                        <th scope="col" class="text-center">Range</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td scope="col" rowspan="5" class="text-center">Poor Banking Behaviour</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">ABB / EMI</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Inward Cheque Bounces</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">EMI Bounce</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Avg. Limit Utilisation</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Overdrawn</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" rowspan="5" class="text-center">General</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Cash Deposit/Credits</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Penal Charges</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Business Credits</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                        <td scope="col" class="text-center">Business Debits</td>
                                                                                        <td scope="col" class="text-center">NA</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </ng-template>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4" >
                                <div class="row">
                                    <div class="hstack applicant-buttons" >
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmBSA>
                                            <button class="btn btn-light me-3" *ngFor="let user of users, let i = index;" (click)="switchUserData($event, user.applicantShortName, 'bsa')">Applicant {{i + 1}}: {{user.applicantFullName}}</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-4" #applicantsElmBSAacc>
                                    <div class="hstack basic-details-cards" *ngIf="BSADetails">
                                        <div class="card" *ngFor="let bank of BSADetails.accountDetails; let i = index;" (click)="updateBSABankDetails($event, i)">
                                            <div class="card-body">
                                                <h4>Account Name</h4>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Name of the Account Holder</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.nameOfShareHolder | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Bank Name</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.bankName | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Account Type</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.accountType | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Bank Account Number</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.accountNo | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Average</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.average | toNumber | number : '1.2-2'}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Latest Utilization as on </p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.latestUtilization | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Limit</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.limit | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Average Limit Utilization (If any)</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.avgLimitUtilization | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Latest month Limit utilization (if Any)</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.latestMonthLimitUtilisation | NA}}</p></div>
                                                </div>
                                                <div class="row row-cols-2">
                                                    <div class="col"><p>Type</p></div>
                                                    <div class="col"><p class="fw-bold text-end">{{bank.type | NA}}</p></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col table-responsive">
                                        <p><b>Banking Analysis</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <ng-container *ngIf="BSABankingAnalysis.length!==0; else elseBSABankingAnalysis">
                                                        <th scope="col" class="stickyColumn bg-white">Particulars</th>
                                                    </ng-container>
                                                    <ng-template #elseBSABankingAnalysis>
                                                        <th scope="col" class="stickyColumn bg-white w-50">Particulars</th>
                                                    </ng-template>
                                                    <th scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.monthName | NA}}</th>
                                                    <th scope="col">Total</th>
                                                    <th scope="col">Average</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="stickyColumn bg-white">ABB (5,15,25,30)</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.Abb | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumAbb | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgAbb | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Total No of Business Credits</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.totalBusinesCredits | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfTotalBusinessCredits | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgTotalBusinessCredits | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Total Amount of Business Credits</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.totalAmountBusinesCredits | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfTotalBusinessAmountCredits | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfTotalBusinessAmountCredits | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Total No of Business Debits</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.totalBusinesDebits | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfTotalBusinessDebits | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfTotalBusinessDebits | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Total Amount of Business Debits</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.totalAmountBusinesDebits | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfTotalBusinessAmountDedits | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfTotalBusinessAmountDedits | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Cash Deposit to Total Credit</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.cashDepositToTotalCredit | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumCashDepositToTotalCredit | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgCashDepositTotalCredit | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Sanction Limit</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.sanctionLimit | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumSanctionLimit | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgSanctionLimit | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Average Limit Utilization</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.avgLimitUtilization | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumAvgLimitUtilization | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfAvgLimitUtilization | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Total no of Inward Cheque Return</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.totalInwardChequeReturns | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfTotalInwCheqReturn | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfTotalInwCheqReturn | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">I/w Returns (Nos) as % of total No of Business Debits</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.iwReturns | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumIw | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgIw | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Total No of Outward Returns</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.totalOutwardReturns | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfTotalOwReturn | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfTotalOwReturn | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">O/w Return (Nos) as % of Total Credits</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.owReturns | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOw | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOw | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Total Amount of EMI Bounce</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.totalAmountEMIBounces | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfTotalAmountEMIBounces | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfTotalAmountEMIBounces | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Loan Disbursements</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.loanDisbursements | toNumber | number : '1.2-2'}}</td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfLoanDisbursal | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgOfLoanDisbursal | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Related Party Transactions</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.percentageRelatedToPartyTransaction | toNumber | number : '1.2-2'}} </td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfPercRelatedPartyTransaction | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgPercRelatedPartTransaction | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                                <tr>
                                                    <td class="stickyColumn bg-white">Circular Transactions</td>
                                                    <td scope="col" *ngFor="let bankAna of BSABankingAnalysis">{{bankAna.percentageRelatedToCircularTransaction | toNumber | number : '1.2-2'}} </td>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.sumOfPercCircularTransaction | toNumber | number : '1.2-2'}}</th>
                                                    <th scope="col">{{BSABankingAnalysisTotalAvg.avgPercCircularTransaction | toNumber | number : '1.2-2'}}</th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!-- <div class="row mt-3">
                                    <div class="col table-responsive">
                                        <p class="fw-bold stickyColumn">EMI Tracking</p>
                                        <table class="table table-bordered table-striped ">
                                            <thead>
                                                <tr>
                                                    <ng-container *ngIf="BSABankDetails.emiData.length!==0; else elseEmiData">
                                                        <th scope="col">Particulars</th>
                                                    </ng-container>
                                                    <ng-template #elseEmiData>
                                                        <th scope="col" class="w-50">Particulars</th>
                                                    </ng-template>
                                                    <th scope="col" class="stickyColumn bg-white">EMI Total</th>
                                                    <th scope="col" *ngFor="let mon of BSABankDetails.emiData">{{mon.month | NA}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td class="stickyColumn bg-white">{{BSABankDetails.emiAmount | toNumber | number : '1.2-2'}}</td>
                                                    <td scope="col" *ngFor="let mon of BSABankDetails.emiData">{{mon.emi | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div> -->
                                <div class="row mt-3">
                                    <div class="col table-responsive">
                                        <p class="fw-bold stickyColumn">EMI Tracking</p>
                                        <table class="table table-bordered table-striped ">
                                            <thead>
                                                <tr>
                                                    <ng-container *ngIf="BSABankDetails.emiData.length!==0; else elseEmiData">
                                                        <th scope="col">S.No.</th>
                                                        <th scope="col">EMI Amount</th>
                                                        <th scope="col" *ngFor="let month of BSABankDetails.emiMonths; let i = index">{{month}}</th>
                                                    </ng-container>
                                                    <ng-template #elseEmiData>
                                                        <th scope="col" class="w-50">S.No.</th>
                                                        <th scope="col">EMI Amount</th>
                                                    </ng-template>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let data of BSABankDetails.emiData; let i = index">
                                                    <td>{{i+1}}</td>
                                                    <td>{{data.amount | toNumber | number : '1.2-2'}}</td>
                                                    <td *ngFor="let month of data.monthsData">
                                                        <!-- <ng-container *ngIf="month.value==='Yes'">
                                                            &#10004;
                                                        </ng-container> -->
                                                        {{month.value}}
                                                    </td>
                                                </tr>
                                                <tr class="fw-bold">
                                                    <td>Total</td>
                                                    <td>{{BSABankDetails.emiAmount | toNumber | number : '1.2-2'}}</td>
                                                    <!-- <td [colSpan]="BSABankDetails.emiMonths.length"></td> -->
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b *ngIf="!isEditRemark['bsaSummery']">Add New</b>
                                            <b *ngIf="isEditRemark['bsaSummery']">Edit Remark</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('bsaSummery')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('bsaSummery')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.bsaSummery===''">Save</button>
                                            </div>
                                        </div>
                                        <div class="mb-5">
                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.bsaSummery" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.bsaSummery">
                                                <div class="col-2" style="width:10.666667%;">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto ps-0">
                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('bsaSummery',comment)">Edit</button>
                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingBSALogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseBSALogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseBSALogs">
                                            <b>Download BSA</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseBSALogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingBSALogs">
                                        <div class="accordion-body">
                                            <!-- <h2>Logs - BSA Details</h2> -->
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.BSA">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <div class="d-flex">
                                                            <div>
                                                                <p>User Requested <b>{{log.service}}</b></p>
                                                                <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                            </div>
                                                            <div class="ms-3">
                                                                <button class="btn ms-1" type="button" (click)="onZipFileDownload(log)"><img style="width: 25px;" src="./assets/images/icons/zip.svg"></button>
                                                                <button class="btn ms-1" type="button" (click)="onExcelFileDownload(log)"><img  style="width: 25px;" src="./assets/images/icons/excel.svg"></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- BSA summary analytics START -->
    <div class="row application-list mb-5" id="BureauSummary">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingBureauSummery">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseBureauSummery" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseBureauSummery">
                            <b>Bureau Summary</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                   
                    <div id="panelsStayOpen-collapseBureauSummery" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingBureauSummery">
                        
                         <div class="accordion-body p-0">
                            <div class="p-4" >
                         <ng-container >
                                      
    
                                            <ng-container >
                                                <!-- <ng-container>
                                                    <ng-container> -->
                                                <div class="row "  > 
                                                    <div class="hstack applicant-buttons"> <button class="btn btn-primary me-3" (click)="getConsumerBureauAnalyticsDetails()">
                                                        Bureau Health
                                                        </button></div>
                                                    <div class="hstack applicant-buttons" *ngIf="ConsumerBureauAnalyticsView" >
                                                        <span class=" me-3">View for : </span> 
                                                        <div #applicantsConsumerBureauAnalytics>
                                                        <button class="btn btn-primary me-3" *ngFor="let user of coApplicantUserList, let i = index;" (click)="getCoApplicantWiseConsumerBureauAnalyticsDetails($event,user)">
                                                            Bureau Health for Co-Applicant {{i + 1}}: {{user.name}}
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            <!-- Consumer Bureau Analytics View Start-->
                                               <div class="row" *ngIf="ConsumerBureauAnalyticsView">
                                                <div class="col-md-6">
                                             <!--Table for Consumer Bureau Summary Start-->
                                                <table class="table table-bordered table-striped">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col" >Variables</th>
                                                            <th scope="col" class="text-center">Non Credit Card</th>
                                                            <th scope="col" class="text-center">Credit Card</th>
                                                            <th scope="col" class="text-center">Overall</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td scope="col"  >Number of accounts live</td>
                                                            <td  scope="col" class="text-center"  >{{ConsumerBureauAnalytics.noOfActiveNonCCAcct? ConsumerBureauAnalytics.noOfActiveNonCCAcct : 'NA'}}</td>
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.noOfActiveCCAcct? ConsumerBureauAnalytics.noOfActiveCCAcct : 'NA'}}</td>
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNoOfActiveAcct? ConsumerBureauAnalytics.totalNoOfActiveAcct : 'NA'}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Number of accounts closed</td>
                                                            <td scope="col" class="text-center"  >{{ConsumerBureauAnalytics.noOfClosedNonCCAcct? ConsumerBureauAnalytics.noOfClosedNonCCAcct : 'NA'}}</td>
    
                                                            <td scope="col" class="text-center" >{{ConsumerBureauAnalytics.noOfClosedCCAcct? ConsumerBureauAnalytics.noOfClosedCCAcct : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNoOfClosedAcct? ConsumerBureauAnalytics.totalNoOfClosedAcct : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Total outstanding</td>
                                                            <td *ngIf="ConsumerBureauAnalytics.totalNonCCOutstanding" scope="col" class="text-center"  >{{ConsumerBureauAnalytics.totalNonCCOutstanding? ConsumerBureauAnalytics.totalNonCCOutstanding : 'NA'}}</td>
    
                                                            <td *ngIf="ConsumerBureauAnalytics.totalCCOutstanding" scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalCCOutstanding? ConsumerBureauAnalytics.totalCCOutstanding : 'NA'}}</td>
    
                                                            <td *ngIf="ConsumerBureauAnalytics.totalOutstanding" scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalOutstanding? ConsumerBureauAnalytics.totalOutstanding : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"   >Total overdue amount</td>
                                                            <td scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNonCCOverdueAmt? ConsumerBureauAnalytics.totalNonCCOverdueAmt : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalCCOverdueAmt? ConsumerBureauAnalytics.totalCCOverdueAmt : 'NA'}}</td>
    
                                                            <td scope="col"class="text-center" >{{ConsumerBureauAnalytics.totalOverdueAmt? ConsumerBureauAnalytics.totalOverdueAmt : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Number of enquiries last 7 days</td>
                                                            <td  scope="col" class="text-center"  >{{ConsumerBureauAnalytics.numNonCCEnqLast7Days? ConsumerBureauAnalytics.numNonCCEnqLast7Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numCCEnqLast7Days? ConsumerBureauAnalytics.numCCEnqLast7Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNumEnqLast7Days? ConsumerBureauAnalytics.totalNumEnqLast7Days : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Number of enquiries last 30 days</td>
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numNonCCEnqLast30Days? ConsumerBureauAnalytics.numNonCCEnqLast30Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numCCEnqLast30Days? ConsumerBureauAnalytics.numCCEnqLast30Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNumEnqLast30Days? ConsumerBureauAnalytics.totalNumEnqLast30Days : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"   >Number of enquiries last 90 days</td>
                                                            <td  scope="col" class="text-center"  >{{ConsumerBureauAnalytics.numNonCCEnqLast90Days? ConsumerBureauAnalytics.numNonCCEnqLast90Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numCCEnqLast90Days? ConsumerBureauAnalytics.numCCEnqLast90Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNumEnqLast90Days? ConsumerBureauAnalytics.totalNumEnqLast90Days : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col" >Number of enquiries last 180 days</td>
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numNonCCEnqLast180Days? ConsumerBureauAnalytics.numNonCCEnqLast180Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numCCEnqLast180Days? ConsumerBureauAnalytics.numCCEnqLast180Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNumEnqLast180Days? ConsumerBureauAnalytics.totalNumEnqLast180Days : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Number of enquiries last 360 days</td>
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numNonCCEnqLast360Days? ConsumerBureauAnalytics.numNonCCEnqLast360Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.numCCEnqLast360Days? ConsumerBureauAnalytics.numCCEnqLast360Days : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalNumEnqLast360Days? ConsumerBureauAnalytics.totalNumEnqLast360Days : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Number of  30+ accounts last 24 months</td>
                                                            <td scope="col" class="text-center" >{{ConsumerBureauAnalytics.countOf30PlusNonCCAcctLast24m? ConsumerBureauAnalytics.countOf30PlusNonCCAcctLast24m : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.countOf30PlusCCAcctLast24m? ConsumerBureauAnalytics.countOf30PlusCCAcctLast24m : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalCountOf30PlusLast24m? ConsumerBureauAnalytics.totalCountOf30PlusLast24m : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Value of 30+ accounts last 24 months</td>
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.sumOf30PlusNonCCAcctLast24m? ConsumerBureauAnalytics.sumOf30PlusNonCCAcctLast24m : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.sumOf30PlusCCAcctLast24m? ConsumerBureauAnalytics.sumOf30PlusCCAcctLast24m : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalSumOf30PlusLast24m? ConsumerBureauAnalytics.totalSumOf30PlusLast24m : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Number of accounts written-off or settled</td>
                                                            <td scope="col" class="text-center" >{{ConsumerBureauAnalytics.countOfwrittenOff_SettledNonCC? ConsumerBureauAnalytics.countOfwrittenOff_SettledNonCC : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.countOfwrittenOff_SettledCC? ConsumerBureauAnalytics.countOfwrittenOff_SettledCC : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.totalCountwrittenOff_Settled? ConsumerBureauAnalytics.totalCountwrittenOff_Settled : 'NA'}}</td>
    
                                                        </tr>
                                                        <tr>
                                                            <td scope="col"  >Value of accounts written-off or settled</td>
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.blcOfwrittenOff_SettledNonCC? ConsumerBureauAnalytics.blcOfwrittenOff_SettledNonCC : 'NA'}}</td>
    
                                                            <td  scope="col" class="text-center" >{{ConsumerBureauAnalytics.blcOfwrittenOff_SettledCC? ConsumerBureauAnalytics.blcOfwrittenOff_SettledCC : 'NA'}}</td>
    
                                                            <td scope="col" class="text-center" >{{ConsumerBureauAnalytics.BlcOfwrittenOff_Settled? ConsumerBureauAnalytics.BlcOfwrittenOff_Settled : 'NA'}}</td>
    
                                                        </tr>
                                                        
                                                    </tbody>
                                                    </table>
                                                </div>
                                                <div class="col-md-6">
    <!--Table for Consumer Bureau Summary Start-->
    <table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th scope="col" >Variables</th>
            <th scope="col" class="text-center">Non Credit Card</th>
            <th scope="col" class="text-center">Credit Card</th>
           
        </tr>
    </thead>
    <tbody>
        <tr>
            <td scope="col">Overdue amount</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.totalNonCCOverdueAmtColor)}"  >{{ConsumerBureauAnalytics.totalNonCCOverdueAmt? ConsumerBureauAnalytics.totalNonCCOverdueAmt : 'NA'}}</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.totalCCOverdueAmtColor)}"  >{{ConsumerBureauAnalytics.totalCCOverdueAmt? ConsumerBureauAnalytics.totalCCOverdueAmt : 'NA'}}</td>
            </tr>
        <tr>
            <td scope="col"  >Max. DPD in 24 months </td>  
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.maxDPD24Months_NonCCColor)}" >{{ConsumerBureauAnalytics.maxDPD24Months_NonCC? ConsumerBureauAnalytics.maxDPD24Months_NonCC : 'NA'}}</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.maxDPD24Months_CCColor)}" >{{ConsumerBureauAnalytics.maxDPD24Months_CC? ConsumerBureauAnalytics.maxDPD24Months_CC : 'NA'}}</td>
        </tr>
        <tr>
            <td scope="col" >Max. DPD beyond 24 months</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.maxDPDBeyond24Months_NonCCColor)}">{{ConsumerBureauAnalytics.maxDPDBeyond24Months_NonCC? ConsumerBureauAnalytics.maxDPDBeyond24Months_NonCC : 'NA'}}</td> 
            <td scope="col" class="text-center">NA</td>
        </tr>
        <tr>
            <td scope="col" >Written-off or settled within 24 months</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.writtenOffSettledWithin24Months_NonCCColor)}">{{ConsumerBureauAnalytics.writtenOffSettledWithin24Months_NonCC? ConsumerBureauAnalytics.writtenOffSettledWithin24Months_NonCC : 'NA'}}</td> 
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.writtenOffSettledWithin24Months_CCColor)}">{{ConsumerBureauAnalytics.writtenOffSettledWithin24Months_CC? ConsumerBureauAnalytics.writtenOffSettledWithin24Months_CC : 'NA'}}</td>   
        </tr>
        <tr>
            <td scope="col">Written-off or settled beyond 24 months</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.writtenOffSettledBeyond24Months_NonCCColor)}">{{ConsumerBureauAnalytics.writtenOffSettledBeyond24Months_NonCC? ConsumerBureauAnalytics.writtenOffSettledBeyond24Months_NonCC : 'NA'}}</td>  
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.writtenOffSettledBeyond24Months_CCColor)}">{{ConsumerBureauAnalytics.writtenOffSettledBeyond24Months_CC? ConsumerBureauAnalytics.writtenOffSettledBeyond24Months_CC : 'NA'}}</td> 
        </tr>
        <tr>
            <td scope="col" >Current utilisation on live accounts</td>
            <td scope="col" class="text-center" >NA</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.currUtilisationLiveAcct_CCColor)}">{{ConsumerBureauAnalytics.currUtilisationLiveAcct_CC? ConsumerBureauAnalytics.currUtilisationLiveAcct_CC : 'NA'}}</td>            
        </tr>
        <tr>
            <td scope="col"  >Avg. current utilisation on live accounts</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.avgCurrUtilisationLiveAcct_NonCCColor)}">{{ConsumerBureauAnalytics.avgCurrUtilisationLiveAcct_NonCC? ConsumerBureauAnalytics.avgCurrUtilisationLiveAcct_NonCC : 'NA'}}</td>   
            <td scope="col" class="text-center">NA</td>
        </tr>
        <tr>
            <td scope="col"  >Number of accounts opened in last 12 months</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.acctOpenedLast12Months_NonCCColor)}">{{ConsumerBureauAnalytics.acctOpenedLast12Months_NonCC? ConsumerBureauAnalytics.acctOpenedLast12Months_NonCC : 'NA'}}</td> 
           <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.acctOpenedLast12Months_CCColor)}">{{ConsumerBureauAnalytics.acctOpenedLast12Months_CC? ConsumerBureauAnalytics.acctOpenedLast12Months_CC : 'NA'}}</td> 
        </tr>
        <tr>
            <td scope="col" >Number of non CC accounts opened in last 12 months and currently active            </td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.acctOpenedLast12Months_NonCCColor)}">{{ConsumerBureauAnalytics.acctOpenedLast12Months_NonCC? ConsumerBureauAnalytics.acctOpenedLast12Months_NonCC : 'NA'}}</td> 
            <td scope="col" class="text-center" >NA</td>
            
        </tr>
       
        
    </tbody>
    </table>
    
    <!--  Overall table-->
     <!--Table for Consumer Bureau Summary Start-->
    <table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th scope="col"  >Variables</th>
            <th scope="col" class="text-center" >Overall</th>           
        </tr>
    </thead>
    <tbody>
        <tr>
            <td scope="col" >Max. delinquency in life</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.totalMaxDelinquencyInlifeColor)}"  >{{ConsumerBureauAnalytics.totalMaxDelinquencyInlife? ConsumerBureauAnalytics.totalMaxDelinquencyInlife : 'NA'}}</td>
        </tr>
        <tr>
            <td scope="col" >CIBIL Score</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.totalCibilScoreColor)}"  >{{ConsumerBureauAnalytics.totalCibilScore? ConsumerBureauAnalytics.totalCibilScore : 'NA'}}</td>
        </tr>
        <tr>
            <td scope="col"  >Avg. current utilisation on all live accounts</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.totalAvgCurrUtilisationLiveAcctColor)}"  >{{ConsumerBureauAnalytics.totalAvgCurrUtilisationLiveAcct? ConsumerBureauAnalytics.totalAvgCurrUtilisationLiveAcct : 'NA'}}</td>
        </tr>
        <tr>
            <td scope="col" >Number of enquiries in last 6 months</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.noOfEnqInL6mColor)}"  >{{ConsumerBureauAnalytics.noOfEnqInL6m? ConsumerBureauAnalytics.noOfEnqInL6m : 'NA'}}</td>
        </tr>
        <tr>
            <td scope="col" >Number of enquiries in last 12 months</td>
            <td scope="col" class="text-center" [ngStyle]="{'background-color':getColorForConsumerBureauAnalytics(ConsumerBureauAnalytics.totalNumEnqLast12MonthsColor)}"  >{{ConsumerBureauAnalytics.totalNumEnqLast12Months? ConsumerBureauAnalytics.totalNumEnqLast12Months : 'NA'}}</td>
        </tr>
    
       
        
    </tbody>
    </table>
                                                </div>
                                            </div>
                                             <!-- Consumer Bureau Analytics View End-->
                                            </ng-container>
                                        </ng-container>
                        
                        
                        
                          </div>
                </div>
                        
                          </div>
                </div>
            </div>
        </div>
    </div>
    <!-- BSA summary analytics END -->


    <div class="row application-list mb-5" id="GSTSummary">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingGSTSummary">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseGSTSummary" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseGSTSummary">
                            <b>GST Summary</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseGSTSummary" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingGSTSummary">
                        <div class="accordion-body p-0">
                            <div class="p-4 table-accordion" *ngIf="(GSTDetails | json) != '{}'">
                                <div class="row">
                                    <div class="hstack applicant-buttons" >
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmGST>
                                            <button class="btn btn-light me-3" *ngFor="let user of users, let i = index;" (click)="switchUserData($event, user.applicantShortName, 'gst')">Applicant {{i + 1}}: {{user.applicantFullName}}</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="row datatable-accordion">
                                    <div class="col">
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                                    data-bs-target="#panelsStayOpen-collapseGSTKarzaDetails" aria-expanded="false"
                                                                    aria-controls="panelsStayOpen-collapseGSTKarzaDetails">
                                                                    <span class="fw-bold">GST Karza Details</span>
                                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                                </button>
                                                    </th>
                                                    <th scope="col">{{GSTDetails.currentQuater.financialYear}}</th>
                                                    <th scope="col">{{GSTDetails.previousQuater.financialYear}}</th>
                                                    <th scope="col">Growth Percentage</th>
                                                </tr>
                                            </thead>
                                            <tbody class="collapse" id="panelsStayOpen-collapseGSTKarzaDetails">
                                                <tr>
                                                    <td>GSTIN no</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.gstIn | NA}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.gstIn | NA}}</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td>Gross Turnover</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.grossTurnover | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.grossTurnover | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.grossTurnover - GSTDetails.previousQuater.otherQuarterFields.grossTurnover) / GSTDetails.previousQuater.otherQuarterFields.grossTurnover) | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Net Turnover</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.netturnover | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.netturnover | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.netturnover - GSTDetails.previousQuater.otherQuarterFields.netturnover) / GSTDetails.previousQuater.otherQuarterFields.netturnover)  | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Total invoices raised</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.totalInvoicesRaised | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.totalInvoicesRaised | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.totalInvoicesRaised - GSTDetails.previousQuater.otherQuarterFields.totalInvoicesRaised) / GSTDetails.previousQuater.otherQuarterFields.totalInvoicesRaised)  | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Total Clients</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.totalClients | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.totalClients | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.totalClients - GSTDetails.previousQuater.otherQuarterFields.totalClients) / GSTDetails.previousQuater.otherQuarterFields.totalClients)  | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Gross Margin %</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.grossMarginPerc | toNumber | number : '1.2-2' }}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.grossMarginPerc | toNumber | number : '1.2-2' }}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.grossMarginPerc - GSTDetails.previousQuater.otherQuarterFields.grossMarginPerc) / GSTDetails.previousQuater.otherQuarterFields.grossMarginPerc)  | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Average monthly gross sales of the business</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.averageMonthlyGrossBusiness | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.averageMonthlyGrossBusiness | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.averageMonthlyGrossBusiness - GSTDetails.previousQuater.otherQuarterFields.averageMonthlyGrossBusiness) / GSTDetails.previousQuater.otherQuarterFields.averageMonthlyGrossBusiness) | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Average gross revenue per customer</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.averageGrossRevenuePerCustomer | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.averageGrossRevenuePerCustomer | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.averageGrossRevenuePerCustomer - GSTDetails.previousQuater.otherQuarterFields.averageGrossRevenuePerCustomer) / GSTDetails.previousQuater.otherQuarterFields.averageGrossRevenuePerCustomer) | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Recurring Customer Percent</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields.recurringCustomerPercent | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields.recurringCustomerPercent | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields.recurringCustomerPercent - GSTDetails.previousQuater.otherQuarterFields.recurringCustomerPercent) / GSTDetails.previousQuater.otherQuarterFields.recurringCustomerPercent)  | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Export / Net Turnover</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields["export/NetTurnover"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields["export/NetTurnover"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields["export/NetTurnover"] - GSTDetails.previousQuater.otherQuarterFields["export/NetTurnover"]) / GSTDetails.previousQuater.otherQuarterFields["export/NetTurnover"]) | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Import /Net Turnover</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields["import/NetTurnover"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields["import/NetTurnover"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields["import/NetTurnover"] - GSTDetails.previousQuater.otherQuarterFields["import/NetTurnover"]) / GSTDetails.previousQuater.otherQuarterFields["import/NetTurnover"]) | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Related Party Sales%</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields["relatedPartySalesper"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields["relatedPartySalesper"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields["relatedPartySalesper"] - GSTDetails.previousQuater.otherQuarterFields["relatedPartySalesper"]) / GSTDetails.previousQuater.otherQuarterFields["relatedPartySalesper"]) | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Related party Purchase%</td>
                                                    <td>{{GSTDetails.currentQuater.otherQuarterFields["ralatedpartyPurchaseper"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>{{GSTDetails.previousQuater.otherQuarterFields["ralatedpartyPurchaseper"] | toNumber | number : '1.2-2'}}</td>
                                                    <td>
                                                        {{((GSTDetails.currentQuater.otherQuarterFields["ralatedpartyPurchaseper"] - GSTDetails.previousQuater.otherQuarterFields["ralatedpartyPurchaseper"]) / GSTDetails.previousQuater.otherQuarterFields["ralatedpartyPurchaseper"]) | toNumber | number : '1.2-2'}}%
                                                    </td>
                                                </tr>
                                            </tbody>
                                            </table>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingtop10Customer">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapsetop10Customer" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapsetop10Customer">
                                                    <p class="fw-bold">Top 10 Customer and % Share</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapsetop10Customer" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingtop10Customer">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col">PAN </th>
                                                                <th scope="col">Name </th>
                                                                <th scope="col">Alerts</th>
                                                                <th scope="col">Invoice Value</th>
                                                                <th scope="col">Total Invoices</th>
                                                                <th scope="col">Share</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let cust of GSTDetails.currentQuater.top10Customer">
                                                                <td>{{cust.pan | NA}}</td>
                                                                <td>{{cust.name | NA}}</td>
                                                                <td>{{cust.alerts | NA}}</td>
                                                                <td>{{cust.invoiceValue | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{cust.totalInvoice | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{cust.share | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingsalesStateWise">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapsesalesStateWise" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapsesalesStateWise">
                                                    <p class="fw-bold">State wise sales % Share</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapsesalesStateWise" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingsalesStateWise">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col">State Code </th>
                                                                <th scope="col">State </th>
                                                                <th scope="col">Invoice Value</th>
                                                                <th scope="col">Share</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let state of GSTDetails.currentQuater.salesStateWise">
                                                                <td>{{state.stateCode | NA}}</td>
                                                                <td>{{state.State | NA}}</td>
                                                                <td>{{state.invoiceValue | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{state.Share | toNumber | number : '1.2-2'}}%</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headinglast6Months">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapselast6Months" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapselast6Months">
                                                    <p class="fw-bold">Last 6 months</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapselast6Months" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headinglast6Months">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col">Month</th>
                                                                <th scope="col">GSTR1(DOF)</th>
                                                                <th scope="col">GSTR1 Delay Days</th>
                                                                <th scope="col">GSTR3B(DOF)</th>
                                                                <th scope="col">GSTR3B Delay Days </th>
                                                                <th scope="col">GSTR4(DOF)</th>
                                                                <th scope="col">GSTR4 Delay Days</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let mon of GSTDetails.currentQuater.last6Months">
                                                            <!-- <tr *ngFor="let mon of GSTDetails.previousQuater.last6Months"> -->
                                                                <td>{{mon.month | NA}}</td>
                                                                <td>{{mon.GSTR1 | NA}}</td>
                                                                <td>{{mon.GSTR1delayDays | NA}}</td>
                                                                <td>{{mon.GSTR3B | NA}}</td>
                                                                <td>{{mon.GSTR3bdelayDays | NA}}</td>
                                                                <td>{{mon.GSTR4 | NA}}</td>
                                                                <td>{{mon.GSTR4delayDays | NA}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingQuarterlyGST">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#panelsStayOpen-collapseQuarterlyGST" aria-expanded="false"
                                                    aria-controls="panelsStayOpen-collapseQuarterlyGST">
                                                    <p class="fw-bold">Quarterly GST</p>
                                                    <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                                </button>
                                            </h2>
                                            <div id="panelsStayOpen-collapseQuarterlyGST" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingQuarterlyGST">
                                                <div class="accordion-body">
                                                    <table class="table table-bordered table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col"></th>
                                                                <th scope="col">{{GSTDetails.currentQuater.financialYear}}</th>
                                                                <th scope="col">{{GSTDetails.previousQuater.financialYear}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <th class="fw-bold">Months</th>
                                                                <td class="fw-bold">Total Taxable Value</td>
                                                                <td class="fw-bold">Total Taxable Value</td>
                                                            </tr>
                                                            <tr>
                                                                <td>April to June</td>
                                                                <td>{{GSTDetails?.currentQuater?.QuaterData?.currentQuarter1?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{GSTDetails?.previousQuater?.QuaterData?.previousQuarter1?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>July to September</td>
                                                                <td>{{GSTDetails?.currentQuater?.QuaterData?.currentQuarter2?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{GSTDetails?.previousQuater?.QuaterData?.previousQuarter2?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>October to December</td>
                                                                <td>{{GSTDetails?.currentQuater?.QuaterData?.currentQuarter3?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{GSTDetails?.previousQuater?.QuaterData?.previousQuarter3?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>January to March</td>
                                                                <td>{{GSTDetails?.currentQuater?.QuaterData?.currentQuarter4?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{GSTDetails?.previousQuater?.QuaterData?.previousQuarter4?.totalGstr3b_totalTax | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Total Value</td>
                                                                <td>{{GSTDetails?.currentQuater?.QuaterData?.totalGstr3b | toNumber | number : '1.2-2'}}</td>
                                                                <td>{{GSTDetails?.previousQuater?.QuaterData?.totalGstr3b | toNumber | number : '1.2-2'}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b *ngIf="!isEditRemark['gstSummery']">Add New</b>
                                            <b *ngIf="isEditRemark['gstSummery']">Edit Remark</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('gstSummery')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('gstSummery')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.gstSummery===''">Save</button>
                                            </div>
                                        </div>
                                        <div class=" mb-5">
                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.gstSummery" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.gstSummery">
                                                <div class="col-2" style="width:10.666667%;">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto ps-0">
                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('gstSummery',comment)">Edit</button>
                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingFinalOfferLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseFinalOfferLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseFinalOfferLogs">
                                            <b>Download GST</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseFinalOfferLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingFinalOfferLogs">
                                        <div class="accordion-body">
                                            <!-- <h2>Logs - GST</h2> -->
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.GST">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <div class="d-flex">
                                                            <div>
                                                                <p>User Requested <b>{{log.service}}</b></p>
                                                                <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                            </div>
                                                            <div class="ms-3">
                                                                <button class="btn ms-1" type="button" (click)="onZipFileDownload(log)"><img style="width: 25px;" src="./assets/images/icons/zip.svg"></button>
                                                                <button class="btn ms-1" type="button" (click)="onExcelFileDownload(log)"><img  style="width: 25px;" src="./assets/images/icons/excel.svg"></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="ITRSummary">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingITRSummery">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseITRSummery" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseITRSummery">
                            <b>ITR Summary</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseITRSummery" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingITRSummery">
                        <div class="accordion-body p-0">
                            <div class="p-4" >
                                <div class="row">
                                    <div class="hstack applicant-buttons" >
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmITR>
                                            <button class="btn btn-light me-3" *ngFor="let user of users, let i = index;" (click)="switchUserData($event, user.applicantShortName, 'itr')">Applicant {{i + 1}}: {{user.applicantFullName}}</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p><b>ITRV Information</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" class="w-50">Particulars</th>
                                                    <ng-container *ngIf="Object.keys(ITRDetails.ITRVInformation).length!==0">
                                                        <th scope="col" *ngFor="let year of ITRDetails.year">{{year | NA}}</th>
                                                    </ng-container>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Form Number</td>
                                                    <td *ngFor="let data of ITRDetails.ITRVInformation.formNumber">{{data | NA}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Original Or Revised</td>
                                                    <td *ngFor="let data of ITRDetails.ITRVInformation.originalOrRevised">{{data | NA}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Date Of Submission</td>
                                                    <td *ngFor="let data of ITRDetails.ITRVInformation.dateOfSubmission">{{data | NA}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p><b>Income Details</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" class="w-50">Particulars</th>
                                                    <ng-container *ngIf="Object.keys(ITRDetails.IncomeDetails).length!==0">
                                                        <th scope="col" *ngFor="let year of ITRDetails.year">{{year | NA}}</th>
                                                    </ng-container>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Current Year Loss</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.currentYearLoss">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Gross Total Income</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.grossTotalIncome">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Deductions Under Chapter6A</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.deductionsUnderChapter6A">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Total Income</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.totalIncome">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Net Tax Payable</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.netTaxPayable">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Interest Payable</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.interestPayable">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Total Tax And Interest Payable</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.totalTaxAndInterestPayable">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Advance Tax</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.advanceTaxPaid">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Total Tax Paid</td>
                                                    <td *ngFor="let data of ITRDetails.IncomeDetails.totalTaxPaid">{{data | toNumber | number : '1.2-2'}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p><b>Tax Calculation</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" class="w-50">Particulars</th>
                                                    <ng-container *ngIf="Object.keys(ITRDetails.TaxCalculation).length!==0">
                                                        <th scope="col" *ngFor="let year of ITRDetails.year">{{year | NA}}</th>
                                                    </ng-container>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                    <tr>
                                                        <td>Income from Salary</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.incomeFromSal">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Income under House Property</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.incomeFromHP">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Profits and Gains from Business and Profession</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totProfBusGain">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Income from Short Term Capital Gains as per Applicable Rates</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totalShortTerm">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Income from Long Term Capital Gains as per Applicable Rates</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totalLongTerm">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Income from Other Sources</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totIncFromOS">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total of Head-Wise Income</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totalHeadWiseIncome">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Losses of Current Year and Brought Forward Losses Set Off</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totalCurrentYearLoss">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gross Total Income</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.grossTotalIncomeItr">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Taxable Income</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totalTaxableIncome">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Net Agricultural Income</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.netAgricultureIncomeOrOtherIncomeForRate">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Computation of Tax Liability on Total Income</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.computationOfTaxLiability">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gross Tax Liability</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.grossTaxLiability">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Taxes Paid</td>
                                                        <td *ngFor="let data of ITRDetails.TaxCalculation.totalTaxesPaid">{{data | toNumber | number : '1.2-2'}}</td>
                                                    </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p><b>Gross Receipt Reported for GST</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="width: 7rem;">Year</th>
                                                    <th scope="col" style="width: 5rem;">Sl. No.</th>
                                                    <th scope="col">GSTIN</th>
                                                    <th scope="col">Annual Value of Outward Supplies</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let data of ITRDetails.itrvGSTInfo; let i = index">
                                                    <td>{{data.year}}</td>
                                                    <td>{{i+1}}</td>
                                                    <td>{{data.gstIn | NA}}</td>
                                                    <td>{{data.amtTurnGrossRcptGSTIN | toNumber | number : '1.2-2'}}</td>  
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p><b>Information of all Bank Accounts</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="width: 7rem;">Year</th>
                                                    <th scope="col" style="width: 5rem;">Sl. No.</th>
                                                    <th scope="col">Account Number</th>
                                                    <th scope="col">Name of the Bank</th>
                                                    <th scope="col">IFSC</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr rowspan="2" *ngFor="let data of ITRDetails.itrvBankInfo; let i = index">
                                                    <td>{{data.year}}</td>
                                                    <td>{{i+1}}</td>
                                                    <td>{{data.bankAccountNo | NA}}</td>
                                                    <td>{{data.bankName | NA}}</td>  
                                                    <td>{{data.ifscCode | NA}}</td>  
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <!-- <p><b>Information of all Bank Accounts</b></p> -->
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="width: 7rem;">Year</th>
                                                    <th scope="col" style="width: 5rem;">Sl. No.</th>
                                                    <th scope="col">Name</th>
                                                    <th scope="col">DIN</th>
                                                    <th scope="col">Designation</th>
                                                    <th scope="col">PAN</th>
                                                    <th scope="col">Address</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let data of ITRDetails.itrvKeyPersonInfo; let i = index">
                                                    <td>{{data.year}}</td>
                                                    <td>{{i+1}}</td>
                                                    <td>{{data.personName | NA}}</td>
                                                    <td>{{data.directorIdNo | NA}}</td>  
                                                    <td>{{data.designation | NA}}</td>  
                                                    <td>{{data.keyPerPAN | NA}}</td>  
                                                    <td>
                                                        {{data.addressDetailWithZipCode.addrDetail}} {{data.addressDetailWithZipCode.cityOrTownOrDistrict}}
                                                        {{data.addressDetailWithZipCode.state}}
                                                        {{data.addressDetailWithZipCode.country}}
                                                        {{data.addressDetailWithZipCode.pinCode}}
                                                    </td>  
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b *ngIf="!isEditRemark['itrSummery']">Add New</b>
                                            <b *ngIf="isEditRemark['itrSummery']">Edit Remark</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('itrSummery')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('itrSummery')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.itrSummery===''">Save</button>
                                            </div>
                                        </div>
                                        <div class="mb-5">
                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.itrSummery" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.itrSummery">
                                                <div class="col-2" style="width:10.666667%;">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto ps-0">
                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('itrSummery',comment)">Edit</button>
                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingITRLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseITRLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseITRLogs">
                                            <b>Download ITR</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseITRLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingITRLogs">
                                        <div class="accordion-body">
                                            <!-- <h2>Logs - ITR Details</h2> -->
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.ITR">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <div class="d-flex">
                                                            <div>
                                                                <p>User Requested <b>{{log.service}}</b></p>
                                                                <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                            </div>
                                                            <div class="ms-3">
                                                                <button class="btn ms-1" type="button" (click)="onZipFileDownload(log)"><img style="width: 25px;" src="./assets/images/icons/zip.svg"></button>
                                                                <button class="btn ms-1" type="button" (click)="onExcelFileDownload(log)"><img  style="width: 25px;" src="./assets/images/icons/excel.svg"></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="CrimeCheckSummary">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingCrimeCheckSummary">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseCrimeCheckSummary" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseCrimeCheckSummary">
                            <b>Crime Check Summary</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseCrimeCheckSummary" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingCrimeCheckSummary">
                        <div class="accordion-body p-0">
                            <div class="p-4 crime-check" >
                                <div class="row">
                                    <div class="hstack applicant-buttons" >
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmCrimeCheck>
                                            <button class="btn btn-light me-3" *ngFor="let crType of crimeCheckTypes, let crIdx = index;" (click)="switchUserData($event, crType, 'crimeCheck')">{{crType}}</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="hstack basic-details-cards crime-check-data">
                                    <ng-container *ngIf="crimeCheckDetail.type === 'Company'">
                                        <div class="card">
                                            <div class="card-body">
                                                <h4 class="mb-3">Company Details</h4>
                                                <div class="row">
                                                    <div class="col-2"><p>Company Name</p></div>
                                                    <div class="col-8"><p class="fw-bold">{{crimeCheckDetail.name}}</p></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-2"><p>Case RefNo.</p></div>
                                                    <div class="col-8"><p class="fw-bold">{{crimeCheckDetail.caseRefNo}}</p></div>
                                                </div>
                                                <h4>Results</h4>
                                                <div class="wrapper">
                                                    <div class="row mb-2">
                                                        <div class="col-2 badge-wrapper">
                                                            <span class="badge rounded-pill text-bg-{{crimeCheckDetail.riskType | removeSpaces}}">{{crimeCheckDetail.riskType}}</span>
                                                        </div>
                                                        <div class="col">
                                                            <div class="d-flex">
                                                                <div>
                                                                    <p>{{crimeCheckDetail.riskSummary}}</p>
                                                                    <!-- <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p> -->
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngIf="crimeCheckDetail.type === 'Individual'">
                                        <div class="card">
                                            <div class="card-body">
                                                <h4 class="mb-3">Individual Details</h4>
                                                <div class="row">
                                                    <div class="col-2"><p>Individual Name</p></div>
                                                    <div class="col-8"><p class="fw-bold">{{crimeCheckDetail.name}}</p></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-2"><p>Case RefNo.</p></div>
                                                    <div class="col-8"><p class="fw-bold">{{crimeCheckDetail.caseRefNo}}</p></div>
                                                </div>
                                                <h4>Results</h4>
                                                <div class="wrapper">
                                                    <div class="row mb-2">
                                                        <div class="col-2 badge-wrapper">
                                                            <span class="badge rounded-pill text-bg-{{crimeCheckDetail.riskType | removeSpaces}}">{{crimeCheckDetail.riskType}}</span>
                                                        </div>
                                                        <div class="col">
                                                            <div class="d-flex">
                                                                <div>
                                                                    <p>{{crimeCheckDetail.riskSummary}}</p>
                                                                    <!-- <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p> -->
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                                <div class="row mt-3">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b>Add New</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('crimeCheckSummery')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('crimeCheckSummery')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.crimeCheckSummery===''">Save</button>
                                            </div>
                                        </div>
                                        <div class="mb-5">
                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.crimeCheckSummery" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.crimeCheckSummery">
                                                <div class="col-auto">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingCrimeCheckLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseCrimeCheckLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseCrimeCheckLogs">
                                            <b>Download Crime Check</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseCrimeCheckLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingCrimeCheckLogs">
                                        <div class="accordion-body">
                                            <!-- <h2>Logs - Crime Check Details</h2> -->
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.CrimeCheck">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <div class="d-flex">
                                                            <div>
                                                                <p>User Requested <b>{{log.service}}</b></p>
                                                                <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                            </div>
                                                            <div class="ms-3">
                                                                <!-- <button class="btn ms-1" type="button" (click)="onZipFileDownload(log)"><img style="width: 25px;" src="./assets/images/icons/zip.svg"></button>
                                                                <button class="btn ms-1" type="button" (click)="onExcelFileDownload(log)"><img  style="width: 25px;" src="./assets/images/icons/excel.svg"></button> -->
                                                                <button class="btn ms-1" type="button" (click)="onPdfFileDownload(log)"><img  style="width: 25px;" src="./assets/images/icons/zip.svg"></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="OtherIntegrations">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingOtherIntegrations">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseOtherIntegrations" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseOtherIntegrations">
                            <b>Other Integrations</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseOtherIntegrations" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingOtherIntegrations">
                        <div class="accordion-body p-0">
                            <div class="p-4" *ngIf="(otherIntegrationUser | json) != '{}'">
                                <div class="row">
                                    <div class="hstack applicant-buttons">
                                        <span class=" me-3">View for : </span>
                                        <div #applicantsElmOtherIntegration>
                                            <button class="btn btn-light me-3" *ngFor="let user of users, let i = index;" (click)="switchUserData($event, user.applicantShortName, 'otherIntegration')">Applicant {{i + 1}}: {{user.applicantFullName}}</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-2">
                                    <div class="col">
                                        <div>
                                            <p><b>Payment</b></p>
                                            <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
                                                <div class="row">
                                                    <div class="col-1">
                                                        <label for="name" class="mt-1 ms-2">Amount : </label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="text" class="form-control" id="amount" name="amount" formControlName="amount">
                                                    </div>                                                    
                                                    <div class="col">
                                                        <button type="submit" class="btn btn-primary" style="width: 5rem; color: black; background-color: red;">Pay</button>
                                                    </div>
                                                </div>
                                            </form>
                                          </div>
                                          
                                          <form #form ngNoForm 
                                                id="nonseamless" 
                                                method="post"
                                                name="redirect" 
                                                action="https://test.ccavenue.com/transaction/transaction.do?command=initiateTransaction">
                                            <input type="hidden" id="encRequest" name="encRequest" [ngModel]="encRequest">
                                            <input type="hidden" name="access_code" id="access_code" [ngModel]="accessCode">
                                          </form>
                                    </div>
                                </div>
                                <div class="row" >
                                    <div class="col">
                                        <p><b>KYC</b></p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Parameters</th>
                                                    <th scope="col">Source</th>
                                                    <th scope="col">ID No.</th>
                                                    <th scope="col">Name</th>
                                                    <th scope="col">Fathers Name</th>
                                                    <th scope="col">Mothers Name</th>
                                                    <th scope="col">DOB</th>
                                                    <th scope="col">Verified/Proccesed Date & Time</th>
                                                    <th scope="col">Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.PanStatus).length === 0; else elsePanStatus">
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Pan Card</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elsePanStatus>
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Pan Card</td>
                                                        <td>Input Data</td>
                                                        <td>{{otherIntegrationUser.PanStatus.pan}}</td>
                                                        <td>{{otherIntegrationUser.PanStatus.name}}</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td>{{otherIntegrationUser.PanStatus.dob}}</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td>{{otherIntegrationUser.PanStatus.status}}</td>
                                                    </tr>
                                                  </ng-template>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.PanProfile).length === 0; else elsePanProfile">
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Pan Profile</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elsePanProfile>
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Pan Profile</td>
                                                        <td>Input Data</td>
                                                        <td>{{otherIntegrationUser.PanProfile.pan}}</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td>{{otherIntegrationUser.PanProfile.pan}}</td>
                                                        <td>{{otherIntegrationUser.PanProfile.name}}</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td>{{otherIntegrationUser.PanProfile.dob}}</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-template>
                                                  <ng-container *ngIf="Object.keys(otherIntegrationUser.VoterID).length === 0; else elseVoterID">
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Voter ID</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseVoterID>
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Voter ID</td>
                                                        <td>Input Data</td>
                                                        <td>{{otherIntegrationUser.VoterID.epicno}}</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                    <td>{{otherIntegrationUser.VoterID.epicno}}</td>
                                                    <td>{{otherIntegrationUser.VoterID.name}}</td>
                                                    <td>{{otherIntegrationUser.VoterID.rlnName}}</td>
                                                    <td></td>
                                                    <td>{{otherIntegrationUser.VoterID.dob}}</td>
                                                    <td></td>
                                                    <td></td>
                                                    </tr>
                                                  </ng-template>
                                                  <ng-container *ngIf="Object.keys(otherIntegrationUser.DrivingLicense).length === 0; else elseDrivingLicense">
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Drivers License</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseDrivingLicense>
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Drivers License</td>
                                                        <td>Input Data</td>
                                                        <td>{{otherIntegrationUser.DrivingLicense.dlNumber}}</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td>{{otherIntegrationUser.DrivingLicense.dob}}</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                    <td>{{otherIntegrationUser.DrivingLicense.dlNumber}}</td>
                                                    <td>{{otherIntegrationUser.DrivingLicense.name}}</td>
                                                    <td>{{otherIntegrationUser.DrivingLicense['father/husband']}}</td>
                                                    <td></td>
                                                    <td>{{otherIntegrationUser.DrivingLicense.dob}}</td>
                                                    <td>{{otherIntegrationUser.DrivingLicense.issueDate}}</td>
                                                    <td>{{otherIntegrationUser.DrivingLicense.status}}</td>
                                                    </tr>
                                                  </ng-template>
                                                  <ng-container *ngIf="Object.keys(otherIntegrationUser.PanAadhar).length === 0; else elsePanAadhar">
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Pan Aadhar</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elsePanAadhar>
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Pan Aadhar</td>
                                                        <td>Input Data</td>
                                                        <td>{{otherIntegrationUser.PanAadhar.pan}}</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <!-- <td>{{otherIntegrationUser.PanAadhar.pan}}</td> -->
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <!-- <td>{{otherIntegrationUser.PanAadhar.monthYearOfBirth}}</td> -->
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-template>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.AadharXML).length === 0; else elseAadharXML">
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Aadhar XML</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseAadharXML>
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Aadhar XML</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                    <td>{{otherIntegrationUser.AadharXML.dataFromAadhaar.maskedAadhaarNumber}}</td>
                                                    <td>{{otherIntegrationUser.AadharXML.dataFromAadhaar.name}}</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>{{otherIntegrationUser.AadharXML.dataFromAadhaar.dob}}</td>
                                                    <td></td>
                                                    <td>
                                                        <ng-container *ngIf="otherIntegrationUser.AadharXML.aadhaarValidity.validity">Active</ng-container>
                                                    </td>
                                                    </tr>
                                                  </ng-template>
                                                  <ng-container *ngIf="Object.keys(otherIntegrationUser.Passport).length === 0; else elsePassport">
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Passport</td>
                                                        <td>Input Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elsePassport>
                                                    <tr>
                                                        <td rowspan="2" class="fw-semibold">Passport</td>
                                                        <td>Input Data</td>
                                                        <td>{{otherIntegrationUser.Passport.passportNumber.passportNumberFromSource}}</td>
                                                        <td>{{otherIntegrationUser.Passport.name.nameFromPassport + ' ' + otherIntegrationUser.Passport.name.surnameFromPassport}}</td>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td>{{otherIntegrationUser.Passport.dateOfIssue.dispatchedOnFromSource}}</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr class="fw-semibold">
                                                        <td>Output Data</td>
                                                    <td>{{otherIntegrationUser.Passport.passportNumber.passportNumberFromSource}}</td>
                                                    <td>{{otherIntegrationUser.Passport.name.nameFromPassport + ' ' + otherIntegrationUser.Passport.name.surnameFromPassport}}</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>{{otherIntegrationUser.Passport.dateOfIssue.dispatchedOnFromSource}}</td>
                                                    <td></td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p><b>Google : </b>Top 10 Search Results</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">SR. No</th>
                                                    <th scope="col">URL</th>
                                                    <th scope="col">Title</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.Google).length === 0; else elseGoogle">
                                                    <!-- <tr>No Data</tr> -->
                                                  </ng-container>
                                                  <ng-template #elseGoogle>
                                                    <tr *ngFor="let item of otherIntegrationUser.Google.items; let i = index">
                                                        <td>{{ i + 1 }}</td>
                                                        <td>{{item.formattedUrl}}</td>
                                                        <td>{{item.title}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p><b>Industry Check</b></p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <p class="fw-semibold">HSN</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.HSN).length === 0; else elseHSN">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Heading Description</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Section Description</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Item Description 1</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Item Description 2</td>
                                                        <td></td>
                                                    </tr>
                                                    <!-- <tr>
                                                        <td>Item Description 3</td>
                                                        <td></td>
                                                    </tr> -->
                                                    <tr>
                                                        <td>Chapter Number</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Policy</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Chapter Description</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseHSN>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.HSN.hsnCode | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Heading Description</td>
                                                        <td>{{otherIntegrationUser.HSN.headingdesc | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Section Description</td>
                                                        <td>{{otherIntegrationUser.HSN.sectiondesc | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Item Description 1</td>
                                                        <td>{{otherIntegrationUser.HSN.itemdesc1 | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Item Description 2</td>
                                                        <td>{{otherIntegrationUser.HSN.itemdesc2 | NA}}</td>
                                                    </tr>
                                                    <!-- <tr>
                                                        <td>Item Description 3</td>
                                                        <td>{{otherIntegrationUser.HSN.itemDesc1 | NA}}</td>
                                                    </tr> -->
                                                    <tr>
                                                        <td>Chapter Number</td>
                                                        <td>{{otherIntegrationUser.HSN.chapterno | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Policy</td>
                                                        <td>{{otherIntegrationUser.HSN.policy | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Chapter Description</td>
                                                        <td>{{otherIntegrationUser.HSN.chapterdesc | NA}}</td>
                                                    </tr>
                                                  </ng-template>  
                                            </tbody>
                                        </table>
                                        <p class="fw-semibold">FDA</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.FDA).length === 0; else elseFDA">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Store Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Contact Number</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>License Detail</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseFDA>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.FDA.licenseNo | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Store Name</td>
                                                        <td>{{otherIntegrationUser.FDA.store_name | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Contact Number</td>
                                                        <td>{{otherIntegrationUser.FDA.contact_number | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>License Detail</td>
                                                        <td>{{otherIntegrationUser.FDA.license_detail | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Name</td>
                                                        <td>{{otherIntegrationUser.FDA.name | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td>{{otherIntegrationUser.FDA.address | NA}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <div class="col-6">
                                        <p class="fw-semibold">Shop & Establishment</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.ShopandEstablishment).length === 0; else elseShopandEstablishment">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Category</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Status</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Owner Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Entity Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Registration Date</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Valid To</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Contact</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Commence Date</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Workers</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Father's Name Of Occupier</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Nature Of Business</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Valid From</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Website Url</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Application Name</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseShopandEstablishment>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.reg_no | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Category</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.category | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Status</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.status | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Owner Name</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.ownerName | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Entity Name</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.entityName | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Registration Date</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.registrationDate | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Valid To</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.validTo | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Contact</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.contact | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Commence Date</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.commenceDate | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Workers</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.totalWorkers | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>father's Name Of Occupier</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment["father'sNameOfOccupier"] | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Nature Of Business</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.natureOfBusiness | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.address | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Valid From</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.validFrom | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.email | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Website Url</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.websiteUrl | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Application Name</td>
                                                        <td>{{otherIntegrationUser.ShopandEstablishment.applicantName | NA}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <p class="fw-semibold">FSSAI</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.FSSAI).length === 0; else elseFSSAI">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Status</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>License Type</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>License Number</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>First Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseFSSAI>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.FSSAI.reg_no | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Status</td>
                                                        <td>{{otherIntegrationUser.FSSAI.status | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>License Type</td>
                                                        <td>{{otherIntegrationUser.FSSAI.lictype | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>License Number</td>
                                                        <td>{{otherIntegrationUser.FSSAI.licno | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>First Name</td>
                                                        <td>{{otherIntegrationUser.FSSAI.firmname | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td>{{otherIntegrationUser.FSSAI.address | NA}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-6">
                                        <!-- <p><b>Others</b></p> -->
                                        <p class="fw-semibold">Employment Fetch</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.Employment).length === 0; else elseEmployment">
                                                    <!-- <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr> -->
                                                    <tr>
                                                        <td>Employer Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Employee Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>UAN</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Organization Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Organization Address</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Organization EST ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Organization Email</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Organization Contact</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseEmployment>
                                                    <!-- <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr> -->
                                                    <tr>
                                                        <td>Employer Name</td>
                                                        <td>
                                                            <ng-container *ngIf="otherIntegrationUser.Employment.summary.emailParameters; else elseEmploymentOrg">
                                                                {{otherIntegrationUser.Employment.summary.emailParameters.organization.orgName | NA}}
                                                            </ng-container>
                                                            <ng-template #elseEmploymentOrg>NA</ng-template>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Employee Name</td>
                                                        <td>
                                                            <ng-container *ngIf="otherIntegrationUser.Employment.summary.nameLookup; else elseEmploymentEname">
                                                                {{otherIntegrationUser.Employment.summary.nameLookup.matchName | NA}}
                                                            </ng-container>
                                                            <ng-template #elseEmploymentEname>NA</ng-template>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>UAN</td>
                                                        <td>
                                                            <ng-container *ngIf="otherIntegrationUser.Employment.uan.length!==0; else elseEmploymentUan">
                                                                {{otherIntegrationUser.Employment.uan[0].uan | NA}}
                                                            </ng-container>
                                                            <ng-template #elseEmploymentUan>NA</ng-template>
                                                        </td>
                                                    </tr>
                                                    <ng-container *ngIf="Object.keys(otherIntegrationUser.Employment.nameLookup).length === 0; else elseEmploymentNameLookup">
                                                        <tr>
                                                            <td>Organization Name</td>
                                                            <td>NA</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Organization Address</td>
                                                            <td>NA</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Organization EST ID</td>
                                                            <td>NA</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Organization Email</td>
                                                            <td>NA</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Organization Contact</td>
                                                            <td>NA</td>
                                                        </tr>
                                                    </ng-container>
                                                    <ng-template #elseEmploymentNameLookup>
                                                        <ng-container *ngIf="otherIntegrationUser.Employment.nameLookup.estInfo.length===0; else elseEmploymentEstInfo">
                                                            <tr>
                                                                <td>Organization Name</td>
                                                                <td>{{otherIntegrationUser.Employment.nameLookup.organizationName | NA}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization Address</td>
                                                                <td>NA</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization EST ID</td>
                                                                <td>NA</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization Email</td>
                                                                <td>NA</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization Contact</td>
                                                                <td>NA</td>
                                                            </tr>
                                                        </ng-container>
                                                        <ng-template #elseEmploymentEstInfo>
                                                            <tr>
                                                                <td>Organization Name</td>
                                                                <td>{{otherIntegrationUser.Employment.nameLookup.organizationName | NA}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization Address</td>
                                                                <td>{{otherIntegrationUser.Employment.nameLookup.estInfo[0].address | NA}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization EST ID</td>
                                                                <td>{{otherIntegrationUser.Employment.nameLookup.estInfo[0].estId | NA}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization Email</td>
                                                                <td>{{otherIntegrationUser.Employment.nameLookup.estInfo[0].emailId | NA}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Organization Contact</td>
                                                                <td>{{otherIntegrationUser.Employment.nameLookup.estInfo[0].contactNo | NA}}</td>
                                                            </tr>
                                                        </ng-template>
                                                    </ng-template>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- <div class="row">
                                    <div class="col">
                                        <p><b>Professional Check</b></p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <p>CA</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.CaMembership).length === 0; else elseCaMembership">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gender</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Associative Year</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Qualification</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>COP Status</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Fellow Year</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Status</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile No</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseCaMembership>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.CaMembership.membership_no | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Name</td>
                                                        <td>{{otherIntegrationUser.CaMembership.name | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td>{{otherIntegrationUser.CaMembership.address | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gender</td>
                                                        <td>{{otherIntegrationUser.CaMembership.gender | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Associative Year</td>
                                                        <td>{{otherIntegrationUser.CaMembership.AssociateYear | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Qualification</td>
                                                        <td>{{otherIntegrationUser.CaMembership.Qualification | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>COP Status</td>
                                                        <td>{{otherIntegrationUser.CaMembership.COPStatus | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Fellow Year</td>
                                                        <td>{{otherIntegrationUser.CaMembership.FellowYear | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Status</td>
                                                        <td>{{otherIntegrationUser.CaMembership.memberStatus | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile No</td>
                                                        <td>{{otherIntegrationUser.CaMembership.mobileNo | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td>{{otherIntegrationUser.CaMembership.email | NA}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-6">
                                        <p>ICSI</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.ICSI).length === 0; else elseICSI">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Organization</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>City</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Designation</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Benevolent Member</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Phone</td>
                                                        <td></td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td>Membership Number</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>CP Number</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Image</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseICSI>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.ICSI.membershipNumber | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Organization</td>
                                                        <td>{{otherIntegrationUser.ICSI.organization | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>City</td>
                                                        <td>{{otherIntegrationUser.ICSI.city | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Designation</td>
                                                        <td>{{otherIntegrationUser.ICSI.designation | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Benevolent Member</td>
                                                        <td>{{otherIntegrationUser.ICSI.benevolentMember | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Phone</td>
                                                        <td>{{otherIntegrationUser.ICSI.phone | NA}}</td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td>Membership Number</td>
                                                        <td>{{otherIntegrationUser.ICSI.membershipNumber | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>CP Number</td>
                                                        <td>{{otherIntegrationUser.ICSI.cpNumber | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td>{{otherIntegrationUser.ICSI.address | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile</td>
                                                        <td>{{otherIntegrationUser.ICSI.mobile | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td>{{otherIntegrationUser.ICSI.email | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Name</td>
                                                        <td>{{otherIntegrationUser.ICSI.memberName | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Image</td>
                                                        <td>{{otherIntegrationUser.ICSI.memberImage | NA}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <p>ICWAI Membership</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.ICWAI).length === 0; else elseICWAI">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Memsship Date</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>MemsshipDt</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Retired</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>DOB</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mname</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Prot Firm Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Valid Up Date</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Membership Category</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>First Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gender</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>SrName</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>EffectiveDt</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>MemRegion</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>CrtEmployer</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>FirmEftDt</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>CancellationDt</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseICWAI>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Memsship Date</td>
                                                        <td>{{otherIntegrationUser.ICWAI.MemsshipDt | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>MemsshipDt</td>
                                                        <td>{{otherIntegrationUser.ICWAI.MemsshipDt | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Retired</td>
                                                        <td>{{otherIntegrationUser.ICWAI.Retired | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>DOB</td>
                                                        <td>{{otherIntegrationUser.ICWAI.dob | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mname</td>
                                                        <td>{{otherIntegrationUser.ICWAI.Mname | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Prot Firm Name</td>
                                                        <td>{{otherIntegrationUser.ICWAI.ProtFirmName | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Valid Up Date</td>
                                                        <td>{{otherIntegrationUser.ICWAI.ValidUpDt | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Membership Category</td>
                                                        <td>{{otherIntegrationUser.ICWAI.MemCategory | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>First Name</td>
                                                        <td>{{otherIntegrationUser.ICWAI.Fname | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gender</td>
                                                        <td>{{otherIntegrationUser.ICWAI.Gender | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>SrName</td>
                                                        <td>{{otherIntegrationUser.ICWAI.SrName | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>EffectiveDt</td>
                                                        <td>{{otherIntegrationUser.ICWAI.EffectiveDt | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>MemRegion</td>
                                                        <td>{{otherIntegrationUser.ICWAI.MemRegion | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>CrtEmployer</td>
                                                        <td>{{otherIntegrationUser.ICWAI.CrtEmployer | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>FirmEftDt</td>
                                                        <td>{{otherIntegrationUser.ICWAI.FirmEftDt | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>CancellationDt</td>
                                                        <td>{{otherIntegrationUser.ICWAI.CancellationDt | NA}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-6">
                                        <p>MCI (Doctor's Membership)</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.MCi).length === 0; else elseMCi">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Name</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gender</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Associative Year</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Qualification</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>COP Status</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Fellow Year</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Status</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile No</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseMCi>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.CaMembership.membership_no | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Name</td>
                                                        <td>{{otherIntegrationUser.CaMembership.name | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Address</td>
                                                        <td>{{otherIntegrationUser.CaMembership.address | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gender</td>
                                                        <td>{{otherIntegrationUser.CaMembership.gender | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Associative Year</td>
                                                        <td>{{otherIntegrationUser.CaMembership.AssociateYear | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Qualification</td>
                                                        <td>{{otherIntegrationUser.CaMembership.Qualification | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>COP Status</td>
                                                        <td>{{otherIntegrationUser.CaMembership.COPStatus | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Fellow Year</td>
                                                        <td>{{otherIntegrationUser.CaMembership.FellowYear | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Status</td>
                                                        <td>{{otherIntegrationUser.CaMembership.memberStatus | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile No</td>
                                                        <td>{{otherIntegrationUser.CaMembership.mobileNo | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Email</td>
                                                        <td>{{otherIntegrationUser.CaMembership.email | NA}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <p>UDIN</p>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Title</th>
                                                    <th scope="col">Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="Object.keys(otherIntegrationUser.UDIN).length === 0; else elseUDIN">
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Status</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>UDIN</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Date Of Signing Of Document</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Document Description</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Details</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Verification DateTime</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Type Of Certificate</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Document Type</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>UDIN Generation DateTime</td>
                                                        <td></td>
                                                    </tr>
                                                  </ng-container>
                                                  <ng-template #elseUDIN>
                                                    <tr>
                                                        <td>Input ID</td>
                                                        <td>{{otherIntegrationUser.UDIN.udin | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Mobile</td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Status</td>
                                                        <td>{{otherIntegrationUser.UDIN.status | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>UDIN</td>
                                                        <td>{{otherIntegrationUser.UDIN.udin | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Date Of Signing Of Document</td>
                                                        <td>{{otherIntegrationUser.UDIN.dateOfSigningOfDocument | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Document Description</td>
                                                        <td>{{otherIntegrationUser.UDIN.documentDescription | NA}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Member Details</td>
                                                        <td>{{otherIntegrationUser.UDIN.memberDetails}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Verification DateTime</td>
                                                        <td>{{otherIntegrationUser.UDIN.verificationDateTime}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Type Of Certificate</td>
                                                        <td>{{otherIntegrationUser.UDIN.typeOfCertificate}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Document Type</td>
                                                        <td>{{otherIntegrationUser.UDIN.documentType}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>UDIN Generation DateTime</td>
                                                        <td>{{otherIntegrationUser.UDIN.udinGenerationDateTime}}</td>
                                                    </tr>
                                                  </ng-template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div> --> 
                                <div class="row">
                                    <div>
                                        <h5 class="fw-bold">Remark</h5>
                                        <div class="position-relative mb-2">
                                            <b *ngIf="!isEditRemark['otherIntegration']">Add New</b>
                                            <b *ngIf="isEditRemark['otherIntegration']">Edit Remark</b>
                                            <div class="position-absolute bottom-0 end-0 clearfix">
                                                <button class="btn btn-light me-2" (click)="cancelRemark('otherIntegration')" [disabled]="userReadOnlyAccessOther">Cancel</button>
                                                <button class="btn btn-primary" (click)="saveRemark('otherIntegration')" [disabled]="userReadOnlyAccessOther" [disabled]="newremark.otherIntegration===''">Save</button>
                                            </div>
                                        </div>
                                        <div class="mb-5">
                                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newremark.otherIntegration" style="height: 100px" placeholder="Remark" id="floatingTextarea"></textarea>
                                            <!-- <label for="floatingTextarea">Remark</label> -->
                                        </div>
                                        <div class="comments">
                                            <div class="row mb-3" *ngFor="let comment of remarkData.otherIntegration">
                                                <div class="col-2" style="width:10.666667%;">
                                                    <p>{{comment.userName}}</p>
                                                    <p>{{comment.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <p>{{comment.remark}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto ps-0">
                                                    <button class="btn btn-primary me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="editRemark('otherIntegration',comment)">Edit</button>
                                                    <button class="btn btn-light me-2" style="margin-top:6px;" [disabled]="comment.userName!==user_name" (click)="deleteRemark(comment)">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="logs-section">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingOtherIntegrationLogs">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#panelsStayOpen-collapseOtherIntegrationLogs" aria-expanded="false"
                                            aria-controls="panelsStayOpen-collapseOtherIntegrationLogs">
                                            <b>Close Logs</b>
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseOtherIntegrationLogs" class="accordion-collapse collapse"
                                        aria-labelledby="panelsStayOpen-headingOtherIntegrationLogs">
                                        <div class="accordion-body">
                                            <h2>Logs - Other Integration</h2>
                                            <div class="wrapper">
                                                <div class="row mb-2" *ngFor="let log of serviceLogs.OtherIntegration">
                                                    <div class="col-1 badge-wrapper">
                                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                                        <div class="d-flex vr-line">
                                                            <div class="vr"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col ms-3">
                                                        <p>User Requested <b>{{log.service}}</b></p>
                                                        <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row application-list mb-5" id="DownloadPDF">
        <div class="col-12">
            <div class="accordion" id="accordionPanelsStayOpen">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingDownloadPDF">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseDownloadPDF" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseDownloadPDF">
                            <b>Downloads</b>
                            <img class="float-end arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseDownloadPDF" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingDownloadPDF">
                        <div class="accordion-body p-4">
                            <!-- <div class="p-4" *ngIf="(otherIntegrationUser | json) != '{}'">
                            </div> -->
                            <div class="download-pdf">
                                <div class="row mb-2" *ngFor="let log of serviceLogs.senpGeneratePdf">
                                    <div class="col-1 badge-wrapper">
                                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                                        <div class="d-flex vr-line">
                                            <div class="vr"></div>
                                        </div>
                                    </div>
                                    <div class="col ms-3">
                                        <div class="d-flex">
                                            <div>
                                                <p>User Requested <b>{{log.service}}</b></p>
                                                <p>{{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                                            </div>
                                            <div class="ms-3">
                                                <button class="btn ms-1" type="button" (click)="onZipFileDownload(log)"><img style="width: 25px;" src="./assets/images/icons/zip.svg"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row all-logs">
        <div class="col">
            <h2>All Logs</h2>
            <!-- <div class="wrapper">
                <div class="row fw-bold">
                    <div class="col-1">
                        <p>Status</p>
                    </div>
                    <div class="col-4 ms-3">
                        <p>Requested Service</p>
                    </div>
                    <div class="col-2 ms-2">
                        <p>Error Message</p>
                    </div>
                    <div class="col-2 ms-2">
                        <p>Action</p>
                    </div>
                </div>
                <hr>
                <div class="row mb-2" *ngFor="let log of allLogs">
                    <div class="col-1 badge-wrapper">
                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                        <div class="d-flex vr-line">
                            <div class="vr"></div>
                        </div>
                    </div>
                    <div class="col-4 ms-3">
                        <p>User Requested <b>{{log.service}}</b> {{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                    </div>
                    <div class="col-2 ms-2">
                        <p>{{log?.message}}</p>
                    </div>
                    <div class="col-2 ms-2">
                        <p>{{log?.action}}</p>
                    </div>
                </div>
            </div> -->
            <!-- <hr> -->
            <!-- <table class="table align-middle">
                <thead>
                    <tr>
                        <th scope="col" style="width: 10%;">Status</th>
                        <th scope="col" style="width: 34%;">Requested Service</th>
                        <th scope="col">Error Message</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let log of allLogs">
                        <td>
                            <div class="badge-wrapper">
                                <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span> -->
                                <!-- <div class="d-flex vr-line">
                                    <div class="vr"></div>
                                </div> -->
                            <!-- </div>
                        </td>
                        <td>User Requested <b>{{log.service}}</b> {{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</td>
                        <td>{{log?.message}}</td>
                        <td>{{log?.action}}</td>
                    </tr>
                </tbody>
            </table>
            <hr> -->
            <div class="wrapper table-accordion">
                <div class="row mb-2" *ngFor="let log of allLogs; let i = index">
                    <div class="col-1 badge-wrapper">
                        <span class="badge rounded-pill text-bg-{{log.status}}">{{log.status | titlecase}}</span>
                        <div class="d-flex vr-line">
                            <div class="vr"></div>
                        </div>
                    </div>
                    <div class="col-4 ms-3">
                        <p>User Requested <b>{{log.service}}</b> {{log.start_time | date: 'dd/MM/yyyy hh:mm'}}</p>
                    </div>
                    <!-- <ng-container *ngIf="log.status!=='Ready'">
                        <div *ngIf="log.message" class="col-3 ms-2">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="panelsStayOpen-headingAllLogsErrorMessage-{{i}}">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        attr.data-bs-target="#panelsStayOpen-collapseAllLogsErrorMessage-{{i}}" aria-expanded="false"
                                        attr.aria-controls="panelsStayOpen-collapseAllLogsErrorMessage-{{i}}">
                                        <p class="fw-bold">Error Message</p>
                                        <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseAllLogsErrorMessage-{{i}}" class="accordion-collapse collapse" attr.aria-labelledby="panelsStayOpen-headingAllLogsErrorMessage-{{i}}">
                                    <div class="accordion-body">
                                        <ng-container *ngIf="log.service==='BSA'; else elseLogMessageNotBSA">
                                            <ng-container *ngIf="Array.isArray(JSON.parse(log.message)); else elseLogMessageNotArray">
                                                <ng-container *ngFor="let message of JSON.parse(log.message)">
                                                    <p class="p-2">

                                                        {{message.filename}} : 
                                                         {{message.message}}
                                                    </p>
                                                </ng-container>
                                            </ng-container>
                                            <ng-template #elseLogMessageNotArray>
                                                <p class="p-2">{{log?.message}}</p>
                                            </ng-template>
                                        </ng-container>
                                        <ng-template #elseLogMessageNotBSA>
                                            <p class="p-2">{{log?.message}}</p>
                                        </ng-template>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="log.action" class="col-3 ms-2">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="panelsStayOpen-headingAllLogsAction-{{i}}">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        attr.data-bs-target="#panelsStayOpen-collapseAllLogsAction-{{i}}" aria-expanded="false"
                                        attr.aria-controls="panelsStayOpen-collapseAllLogsAction-{{i}}">
                                        <p class="fw-bold">Action</p>
                                        <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseAllLogsAction-{{i}}" class="accordion-collapse collapse" attr.aria-labelledby="panelsStayOpen-headingAllLogsAction-{{i}}">
                                    <div class="accordion-body">
                                        <ng-container *ngIf="log.service==='BSA'; else elseLogActionNotBSA">
                                            <ng-container *ngIf="Array.isArray(JSON.parse(log.action)); else elseLogActionNotArray">
                                               <ng-container *ngFor="let action of JSON.parse(log.action)">
                                                   <p class="p-2">{{action.filename}} : {{action.action}}</p>
                                               </ng-container>
                                           </ng-container>
                                           <ng-template #elseLogActionNotArray>
                                               <p class="p-2">{{log?.action}}</p>
                                           </ng-template>
                                        </ng-container>

                                        <ng-template #elseLogActionNotBSA>
                                            <p class="p-2">{{log?.action}}</p>
                                        </ng-template>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container> -->
                    <ng-container *ngIf="log.status!=='Ready'">
                        <div *ngIf="log.message" class="col-3 ms-2">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="panelsStayOpen-headingAllLogsErrorMessage-{{i}}">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        attr.data-bs-target="#panelsStayOpen-collapseAllLogsErrorMessage-{{i}}" aria-expanded="false"
                                        attr.aria-controls="panelsStayOpen-collapseAllLogsErrorMessage-{{i}}">
                                        <p class="fw-bold">Error Message</p>
                                        <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseAllLogsErrorMessage-{{i}}" class="accordion-collapse collapse" attr.aria-labelledby="panelsStayOpen-headingAllLogsErrorMessage-{{i}}">
                                    <div class="accordion-body">
                                        <ng-container *ngIf="log.service==='BSA'; else elseLogMessageNotBSA">
                                            <ng-container *ngIf="checkArrayLog(log?.message); else elseLogMessageNotArray">
                                                <ng-container *ngFor="let message of JSON.parse(log?.message)">
                                                    <p class="p-2">
                                                        <ng-container *ngIf="message.filename">
                                                            {{message.filename}} : 
                                                        </ng-container>
                                                        {{message?.message}}
                                                    </p>
                                                </ng-container>
                                            </ng-container>
                                            <ng-template #elseLogMessageNotArray>
                                                <p class="p-2">{{log?.message}}</p>
                                            </ng-template>
                                        </ng-container>
                                        <ng-template #elseLogMessageNotBSA>
                                            <p class="p-2">{{log?.message}}</p>
                                        </ng-template>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="log.action" class="col-3 ms-2">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="panelsStayOpen-headingAllLogsAction-{{i}}">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        attr.data-bs-target="#panelsStayOpen-collapseAllLogsAction-{{i}}" aria-expanded="false"
                                        attr.aria-controls="panelsStayOpen-collapseAllLogsAction-{{i}}">
                                        <p class="fw-bold">Action</p>
                                        <img class="arrow" src="./assets/images/icons/Icon ionic-ios-arrow-dropright-circle.svg">
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseAllLogsAction-{{i}}" class="accordion-collapse collapse" attr.aria-labelledby="panelsStayOpen-headingAllLogsAction-{{i}}">
                                    <div class="accordion-body">
                                        <ng-container *ngIf="log.service==='BSA'; else elseLogActionNotBSA">
                                            <ng-container *ngIf="checkArrayLog(log?.action); else elseLogActionNotArray">
                                                <ng-container *ngFor="let action of JSON.parse(log?.action)">
                                                    <p class="p-2">
                                                        <ng-container *ngIf="action.filename">
                                                            {{action.filename}} : 
                                                        </ng-container>
                                                        {{action?.action}}
                                                    </p>
                                                </ng-container>
                                            </ng-container>
                                            <ng-template #elseLogActionNotArray>
                                                <p class="p-2">{{log?.action}}</p>
                                            </ng-template>
                                        </ng-container>

                                        <ng-template #elseLogActionNotBSA>
                                            <p class="p-2">{{log?.action}}</p>
                                        </ng-template>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>

    <div class="position-fixed bottom-0 end-0">
        <div class="personal-icons me-0 ms-auto" data-bs-toggle="modal" data-bs-target="#recomendationModal" (mouseover)="Recomendation=true" (mouseout)="Recomendation=false">
            <b *ngIf="Recomendation">Recommendation</b> <img src="./assets/images/icons/Path%20372.svg">
        </div>
        <div class="personal-icons me-0 ms-auto" data-bs-toggle="modal" data-bs-target="#PDNotesModal" (mouseover)="PDNotes=true" (mouseout)="PDNotes=false">
            <b *ngIf="PDNotes">PD Notes</b> <img src="./assets/images/icons/Group%201756.svg">
        </div>
        <div class="personal-icons me-0 ms-auto">
            <img src="./assets/images/icons/Path%20367.svg" (click)="scrollToTop()">
        </div>
    </div>

    <div class="modal fade" id="recomendationModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="recomendationModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5 fw-bold" id="staticBackdropLabel">Recommendations</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="cancelRecommendation()" aria-label="Close">
                    </button>
                  </div>            
                <div class="modal-body">
                    <!-- <div>
                        <img src="./assets/images/icons/Icon ionic-ios-close.svg" class="float-end" data-bs-dismiss="modal" (click)="cancelRecommendation()">
                        <h4>Recommendations</h4>
                    </div> -->
                        <div class="row mb-3" *ngFor="let rec of RecommendationArr">
                            <div class="col-2">
                                <p><b>{{rec.userName}}</b></p>
                                <p>{{rec.intializedTime | date: 'dd/MM/yyyy hh:mm' }}</p>
                            </div>
                            <div class="col-9">
                                <div class="card">
                                    <div class="card-body">
                                        <!-- <div class="d-flex justify-content-between align-items-center"> -->
                                            <p>{{rec.recommendation}}</p>
                                            <!-- <button class="btn btn-primary" [disabled]="rec.userName!==user_name" (click)="editRecommendation(rec)">Edit</button> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-1">
                                <button class="btn btn-primary" style="margin-top:9px;" [disabled]="userReadOnlyAccessOther || rec.userName!==user_name" (click)="editRecommendation(rec)">Edit</button>
                            </div>
                        </div>
                </div>
                <div class="modal-footer">
                    <div class="mt-1">
                        <div class="">
                            <textarea class="form-control" [disabled]="userReadOnlyAccessOther" [(ngModel)]="newRecommendation" placeholder="Comments" id="floatingTextarea2" style="height: 100px"></textarea>
                            <!-- <label for="floatingTextarea2">Comments</label> -->
                        </div>
                        <div class="float-end mt-3">
                            <button class="btn btn-light me-2" data-bs-dismiss="modal" (click)="cancelRecommendation()">Cancel</button>
                            <button class="btn btn-primary" [disabled]="newRecommendation===''" [disabled]="userReadOnlyAccessOther" (click)="saveRecommendation()">Save</button>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="PDNotesModal" tabindex="-1" aria-labelledby="PDNotesModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-xl">
            <div class="modal-content">
                <div class="modal-body" id="PDNotes"  >
                    <div class="row">
                        <div class="col">
                            <img src="./assets/images/icons/Icon ionic-ios-close.svg" class="float-end" data-bs-toggle="modal">
                            <button class="btn btn-primary float-end me-3" (click)="downloadPDNotes()"> Download PDF </button>
                            <h4>PD Notes</h4>
                        </div>
                    </div>
                    <div *ngIf="PDNotesArr.length > 0">
                        <div class="row mb-3">
                            <div class="col-3">
                                <div class="position-fixed">
                                    <p (click)="scrollToNote('primaryApplicantName')">Primary Applicant Name</p>
                                    <p (click)="scrollToNote('coApplicantNameKeyPerson')">Co-Applicant Name<br>(Key Person)</p>
                                    <p (click)="scrollToNote('typeOfEntity')">Type of Entity</p>
                                    <p (click)="scrollToNote('typeOfAddres')">Type of Address</p>
                                    <p (click)="scrollToNote('stability')">Stability (in years)</p>
                                    <p (click)="scrollToNote('addressOfAnyOtherProperties')">Address of any other Owned <br>Properties by Applicant (if Any)</p>
                                    <p (click)="scrollToNote('familyDetails')">Family Details</p>
                                    <p (click)="scrollToNote('natureOfBusiness')">Nature of Business details <br>Business Description</p>
                                    <p (click)="scrollToNote('employees')">Employees</p>
                                    <p (click)="scrollToNote('incomeDetails')">Income Details</p>
                                    <p (click)="scrollToNote('assetDetails')">Any other Asset details</p>
                                    <p (click)="scrollToNote('loanDetails')">Loan Details</p>
                                    <p (click)="scrollToNote('loanAmount')">Loan Amount Required</p>
                                    <p (click)="scrollToNote('endUse')">End Use</p>
                                    <p (click)="scrollToNote('interviewerComments')">Interviewer Comments (if Any)</p>
                                    <p (click)="scrollToNote('recommendation')">Recommendation</p>
                                    <p (click)="scrollToNote('additionDetails1')">Additional Details-1</p>
                                    <p (click)="scrollToNote('additionalDetails2')">Additional Details-2</p>
                                    <p (click)="scrollToNote('interviewerName')">Interview Name</p>
                                    <p (click)="scrollToNote('visitDateAndTime')">Visit Date & Time</p>
                                </div>
                            </div>
                            <div class="col-9">
                                <div class="mb-4" id="primaryApplicantName">
                                    <p class="fw-bold">Primary Applicant Name</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].primaryApplicantName" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="coApplicantNameKeyPerson">
                                    <p class="fw-bold">Co-Applicant Name</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].coApplicantNameKeyPerson" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="typeOfEntity">
                                    <p class="fw-bold">Type of Entity</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].typeOfEntity" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="typeOfAddres">
                                    <p class="fw-bold">Type of Address</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].typeOfAddres" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="stability">
                                    <p class="fw-bold">Stability (in years)</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].stability" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="addressOfAnyOtherProperties">
                                    <p class="fw-bold">Address of any other Owned Properties by Applicant</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].addressOfAnyOtherProperties" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="familyDetails">
                                    <p class="fw-bold">Family Details</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].familyDetails" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="natureOfBusiness">
                                    <p class="fw-bold">Nature of Business details Business Description</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].natureOfBusiness" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="employees">
                                    <p class="fw-bold">Employees</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].employees" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="incomeDetails">
                                    <p class="fw-bold">Income Details</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].incomeDetails" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="assetDetails">
                                    <p class="fw-bold">Any other Asset details</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].assetDetails" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="loanDetails">
                                    <p class="fw-bold">Loan Details</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].loanDetails" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="loanAmount">
                                    <p class="fw-bold">Loan Amount Required</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].loanAmount" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="endUse">
                                    <p class="fw-bold">End Use</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].endUse" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="interviewerComments">
                                    <p class="fw-bold">Interviewer Comments</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].interviewerComments" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="recommendation">
                                    <p class="fw-bold">Recommendation</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].recommendation" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="additionDetails1">
                                    <p class="fw-bold">Additional Details-1</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].additionDetails1" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="additionalDetails2">
                                    <p class="fw-bold">Additional Details-2</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].additionalDetails2" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="interviewerName">
                                    <p class="fw-bold">Interview Name</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].interviewerName" rows="3"></textarea>
                                    </div>    
                                </div>
                                <div class="mb-4" id="visitDateAndTime">
                                    <p class="fw-bold">Visit Date & Time</p>
                                    <div class="form-group">
                                        <textarea class="form-control" [disabled]="userReadOnlyAccess" [(ngModel)]="PDNotesArr[0].visitDateAndTime" rows="3"></textarea>
                                    </div>    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-5">
                        <div class="float-end mt-3">
                            <button class="btn btn-light me-2" [disabled]="userReadOnlyAccess">Cancel</button>
                            <button class="btn btn-primary" (click)="savePdnotes()" [disabled]="userReadOnlyAccess">save</button>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="backdrop" [ngClass]="{'d-none': !saveDashboardPopup}" #backdrop>
    <div class="div-center">
        <div class="api-message">
            <h4>Save Dashboard</h4>
            <div class="mb-5">
                <div class="form-group mb-3">
                    <label for="dashboardVersion">Dashboard Version</label>
                    <input type="text" class="form-control" [(ngModel)]="dashboardVersion" id="dashboardVersion" aria-describedby="emailHelp" placeholder="Enter Dashboard Version">   
                </div>
                <div class="form-group">
                    <label for="dashboardName">Dashboard Name</label>
                    <input type="text" class="form-control" [(ngModel)]="dashboardName" id="dashboardName" aria-describedby="emailHelp" placeholder="Enter Dashboard Version">   
                </div>
            </div>
            <div>
                <button class="btn btn-primary float-end" (click)="closePupup('save')">Submit</button>
                <button class="btn btn-light float-end me-2" (click)="closePupup('cancel')">Cancel</button>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<div id="backdrop" [ngClass]="{'d-none': !loader}">
    <div class="text-center loading">
        <div class="spinner-border" role="status" style="width: 5rem; height: 5rem;">
            <span class="sr-only"></span>
        </div>
    </div>
</div>
